import"./Scaffold-D_ifbLkl.js";import{P as U}from"./Panel-rs2tkraC.js";import{T,Z as B,j as E,i as l,o as m,c as u,w as i,a as o,t as p,b as n,l as h,e as f,n as _,f as d,p as j}from"./app-DeJr7fNP.js";import{_ as F}from"./Checkbox-BWgqGgzP.js";import"./GuestLayout-B84nh8OP.js";import{_ as L,a as D}from"./InputLabel-C2gVT93H.js";import{_ as M}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as R}from"./TextInput-BUWn7uYR.js";import{R as X}from"./RadioGroup-F_Tqn1wR.js";import{L as N}from"./LoadingIcon-8dx7WYGr.js";import{P as z}from"./Popover-BaS0lwjX.js";import{T as A}from"./Tooltip-CSg56dN2.js";import{_ as H}from"./TagInput-3zOTNi0B.js";import{I as O}from"./ImageUploader-v1nOBbO9.js";import{S as q}from"./Selector-NdNaM2dQ.js";import{P as G}from"./ProvinceCounty-Bztk6mkC.js";import{P as Q}from"./PhoneFields-Dp_fguC6.js";import{S as Z}from"./SocialFields-hQVy6EEa.js";import{T as J}from"./TextEditor-7zAQTOol.js";import{U as K}from"./UserSelector-D8GJCG_Y.js";import"./geosearch.module--3h6cvjB.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as Y}from"./CitySelector-BCnZf9JU.js";import{a as $}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as ee}from"./Footer-BYUJXMx0.js";import{r as oe}from"./Alert-CDDSmLjy.js";import{r as re}from"./EyeIcon-DI71KuzS.js";import{r as se}from"./FolderPlusIcon-oBdmLyEF.js";import{r as te}from"./Bars2Icon-DNQAv7Yb.js";import{r as ne}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as le}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as ie}from"./Squares2X2Icon-Dviu76Pe.js";import{r as ae}from"./SignalIcon-C7ONQsBK.js";import{r as me}from"./PencilIcon-BtrTq_9n.js";import{r as pe}from"./CartItemButton-BUsVs_zz.js";import{r as de}from"./PhoneIcon-CdiwYJQQ.js";import{r as ce}from"./CreditCardIcon-B7pkE30T.js";import{r as fe}from"./IdentificationIcon-CCc4K6B8.js";import"./ApplicationLogo-CV6pwTdm.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./PlusIcon-NsBgz0vi.js";import"./XMarkIcon-CEnCPALs.js";import"./LinkIcon-ClPrNMD5.js";import"./MinusIcon-B-7x8Y4K.js";import"./Pagination-VNHzEPuv.js";import"./ChevronRightIcon-9GRJ1f_S.js";import"./MagnifyingGlassIcon--KPgqpVy.js";import"./MapPinIcon-DUvwgUpM.js";import"./ChevronUpIcon-DGI4GkYP.js";const _e={data(){return{form:T({agency_id:null,fullname:null,national_code:null,phone:null,sheba:null,card:null,uploading:!1}),img:null}},components:{UserSelector:K,ImageUploader:O,LoadingIcon:N,Head:B,Link:E,HomeIcon:$,ChevronDownIcon:ee,Panel:U,InputLabel:L,TextInput:R,InputError:D,PrimaryButton:M,RadioGroup:X,UserIcon:oe,EyeIcon:re,Checkbox:F,Popover:z,Tooltip:A,FolderPlusIcon:se,Bars2Icon:te,ChatBubbleBottomCenterTextIcon:ne,TagInput:H,QuestionMarkCircleIcon:le,Selector:q,Squares2X2Icon:ie,ProvinceCounty:G,PhoneFields:Q,SocialFields:Z,SignalIcon:ae,TextEditor:J,PencilIcon:me,XMarkIcon:pe,CitySelector:Y,PhoneIcon:de,CreditCardIcon:ce,IdentificationIcon:fe},mounted(){},watch:{form(t,r){}},methods:{submit(){this.img=this.$refs.imageCropper.getCroppedData(),this.form.uploading=!1,this.form.clearErrors(),this.form.post(route("admin.panel.shipping.driver.create"),{preserveScroll:!1,onSuccess:t=>{this.form.uploading||(this.form.uploading=!0,this.form.transform(r=>({...r,uploading:!0,img:this.img})).post(route("admin.panel.shipping.driver.create"),{preserveScroll:!1,onSuccess:r=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:r=>{}}))},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:t=>{}})}}},ue={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},he={class:"text-2xl font-semibold"},ge={class:"px-2 md:px-4"},ve={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},ye={class:"flex flex-col mx-2 col-span-2 w-full px-2"},be={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto"},Ie={class:"my-2"},we={key:0,class:"my-2"},xe={class:"grow"},Ce=["onClick"],ke={class:"my-2"},Pe={class:"p-3"},Ve={class:"my-2"},Se={class:"p-3"},Ue={class:"my-4"},Te={class:"p-3"},Be={class:"my-4"},Ee={class:"p-3"},je={class:"my-4"},Fe=o("div",{class:"p-3"},[o("strong",null,"IR")],-1),Le={key:1,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},De={class:"animate-bounce"},Me={class:"mt-4"},Re={class:"text-lg"};function Xe(t,r,Ne,ze,e,c){const g=l("FolderPlusIcon"),v=l("ImageUploader"),y=l("InputError"),b=l("XMarkIcon"),I=l("UserSelector"),w=l("Bars2Icon"),a=l("TextInput"),x=l("PhoneIcon"),C=l("IdentificationIcon"),k=l("CreditCardIcon"),P=l("LoadingIcon"),V=l("PrimaryButton"),S=l("Panel");return m(),u(S,null,{header:i(()=>[o("title",null,p(t.__("new_driver")),1)]),content:i(()=>[o("div",ue,[n(g,{class:"h-7 w-7 mx-3"}),o("h1",he,p(t.__("new_driver")),1)]),o("div",ge,[o("div",ve,[o("div",ye,[o("div",be,[o("div",Ie,[n(v,{ref:"imageCropper",label:t.__("driver_image_jpg"),cropRatio:3/4,id:"img",height:"10",class:"grow","crop-ratio":1},null,8,["label"]),n(y,{class:"mt-1",message:e.form.errors.img},null,8,["message"])])]),o("form",{onSubmit:r[9]||(r[9]=h((...s)=>c.submit&&c.submit(...s),["prevent"]))},[t.$page.props.agency&&t.$page.props.agency.level<3?(m(),f("div",we,[n(I,{colsData:["name","phone","level"],labelsData:["name","phone","type"],callback:{level:t.getAgency},error:e.form.errors.agency_id,link:t.route("admin.panel.agency.search"),label:t.__("agency"),id:"agency",selected:e.form.agency_id,"onUpdate:selected":r[0]||(r[0]=s=>e.form.agency_id=s),preload:null},{selector:i(s=>[o("div",{class:_([(s.selectedText,"py-2"),"px-4 border border-gray-300 rounded hover:bg-gray-100 cursor-pointer flex items-center"])},[o("div",xe,p(s.selectedText??t.__("select")),1),s.selectedText?(m(),f("div",{key:0,class:"bg-danger rounded p-2 cursor-pointer text-white hover:bg-danger-400",onClick:h(Ae=>s.clear(),["stop"])},[n(b,{class:"w-5 h-5"})],8,Ce)):d("",!0)],2)]),_:1},8,["callback","error","link","label","selected"])])):d("",!0),o("div",ke,[n(a,{id:"fullname",type:"text",placeholder:t.__("fullname"),classes:"  ",modelValue:e.form.fullname,"onUpdate:modelValue":r[1]||(r[1]=s=>e.form.fullname=s),autocomplete:"fullname",error:e.form.errors.fullname},{prepend:i(()=>[o("div",Pe,[n(w,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",Ve,[n(a,{id:"phone",type:"tel",placeholder:t.__("phone"),classes:"  ",modelValue:e.form.phone,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.phone=s),autocomplete:"phone",error:e.form.errors.phone},{prepend:i(()=>[o("div",Se,[n(x,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",Ue,[n(a,{id:"national_code",type:"text",placeholder:t.__("national_code"),classes:"  ",modelValue:e.form.national_code,"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.national_code=s),autocomplete:"card",verified:e.form.national_code,"onUpdate:verified":r[4]||(r[4]=s=>e.form.national_code=s),error:e.form.errors.national_code},{prepend:i(()=>[o("div",Te,[n(C,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","verified","error"])]),o("div",Be,[n(a,{id:"card",type:"text",placeholder:t.__("card"),classes:"  ",modelValue:e.form.card,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.card=s),autocomplete:"card",verified:e.form.wallet_active,"onUpdate:verified":r[6]||(r[6]=s=>e.form.wallet_active=s),error:e.form.errors.card},{prepend:i(()=>[o("div",Ee,[n(k,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","verified","error"])]),o("div",je,[n(a,{id:"sheba",type:"text",placeholder:t.__("sheba"),classes:"  ",modelValue:e.form.sheba,"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.sheba=s),autocomplete:"sheba",verified:e.form.sheba,"onUpdate:verified":r[8]||(r[8]=s=>e.form.sheba=s),error:e.form.errors.sheba},{prepend:i(()=>[Fe]),_:1},8,["placeholder","modelValue","verified","error"])]),e.form.progress?(m(),f("div",Le,[o("div",{class:_(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":e.form.progress.percentage<100}]),style:j(`width: ${e.form.progress.percentage}%`)},[o("span",De,p(e.form.progress.percentage),1)],6)])):d("",!0),o("div",Me,[n(V,{onClick:c.submit,type:"button",class:_(["w-full flex items-center justify-center",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:i(()=>[e.form.processing?(m(),u(P,{key:0,class:"w-4 h-4 mx-3"})):d("",!0),o("span",Re,p(t.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])]),_:1})}const Xo=W(_e,[["render",Xe]]);export{Xo as default};
