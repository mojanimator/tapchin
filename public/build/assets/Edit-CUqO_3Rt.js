import"./Scaffold-D_ifbLkl.js";import{P as S,r as B}from"./Panel-rs2tkraC.js";import{T,Z as E,j,i as a,o as d,c as _,w as l,a as o,t as m,b as n,l as h,e as f,n as u,f as p,p as L}from"./app-DeJr7fNP.js";import{_ as M}from"./Checkbox-BWgqGgzP.js";import{_ as $,a as D}from"./InputLabel-C2gVT93H.js";import{_ as F}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as X}from"./TextInput-BUWn7uYR.js";import{L as A}from"./LoadingIcon-8dx7WYGr.js";import{I as N}from"./ImageUploader-v1nOBbO9.js";import{S as q}from"./Selector-NdNaM2dQ.js";import{U as z}from"./UserSelector-D8GJCG_Y.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as R}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as O}from"./Footer-BYUJXMx0.js";import{r as Q}from"./Alert-CDDSmLjy.js";import{r as Z}from"./EyeIcon-DI71KuzS.js";import{r as G}from"./FolderPlusIcon-oBdmLyEF.js";import{r as J}from"./Bars2Icon-DNQAv7Yb.js";import{r as K}from"./LinkIcon-ClPrNMD5.js";import{r as W}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as Y}from"./Squares2X2Icon-Dviu76Pe.js";import{r as ee}from"./SignalIcon-C7ONQsBK.js";import{r as oe}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as re}from"./PencilIcon-BtrTq_9n.js";import{r as se}from"./CartItemButton-BUsVs_zz.js";import{r as te}from"./PhoneIcon-CdiwYJQQ.js";import{r as ne}from"./IdentificationIcon-CCc4K6B8.js";import{r as ae}from"./CreditCardIcon-B7pkE30T.js";import"./ApplicationLogo-CV6pwTdm.js";import"./Tooltip-CSg56dN2.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./XMarkIcon-CEnCPALs.js";import"./Pagination-VNHzEPuv.js";import"./ChevronRightIcon-9GRJ1f_S.js";import"./MagnifyingGlassIcon--KPgqpVy.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";const le={data(){return{data:this.$page.props.data||{},form:T({id:null,agency_id:null,fullname:null,national_code:null,phone:null,sheba:null,card:null,uploading:!1}),img:null}},components:{ImageUploader:N,LoadingIcon:A,Head:E,Link:j,HomeIcon:R,ChevronDownIcon:O,Panel:S,InputLabel:$,TextInput:X,InputError:D,PrimaryButton:F,UserIcon:Q,EyeIcon:Z,Checkbox:M,FolderPlusIcon:G,Bars2Icon:J,LinkIcon:K,QuestionMarkCircleIcon:W,Selector:q,Squares2X2Icon:Y,PencilSquareIcon:B,SignalIcon:ee,ChatBubbleBottomCenterTextIcon:oe,PencilIcon:re,UserSelector:z,XMarkIcon:se,PhoneIcon:te,IdentificationIcon:ne,CreditCardIcon:ae},created(){},mounted(){this.form.id=this.data.id,this.form.fullname=this.data.fullname,this.form.phone=this.data.phone,this.form.national_code=this.data.national_code,this.form.card=this.data.card,this.form.sheba=this.data.sheba},methods:{submit(){this.form.clearErrors(),this.form.patch(route("admin.panel.shipping.driver.update"),{preserveScroll:!1,onSuccess:s=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:s=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},ie={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},de={class:"text-2xl font-semibold"},me={class:"px-2 md:px-4"},pe={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},ce={class:"flex flex-col mx-2 col-span-2 w-full px-2"},fe={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto"},ue={class:"my-2"},_e={key:0,class:"my-2"},he={class:"grow"},ge=["onClick"],ve={class:"my-2"},ye={class:"p-3"},be={class:"my-2"},Ie={class:"p-3"},we={class:"my-4"},xe={class:"p-3"},ke={class:"my-4"},Ce={class:"p-3"},Ve={class:"my-4"},Ue=o("div",{class:"p-3"},[o("strong",null,"IR")],-1),Pe={key:1,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},Se={class:"animate-bounce"},Be={class:"mt-4"},Te={class:"text-lg"};function Ee(s,t,je,Le,e,c){const g=a("FolderPlusIcon"),v=a("ImageUploader"),y=a("InputError"),b=a("XMarkIcon"),I=a("UserSelector"),w=a("Bars2Icon"),i=a("TextInput"),x=a("PhoneIcon"),k=a("IdentificationIcon"),C=a("CreditCardIcon"),V=a("LoadingIcon"),U=a("PrimaryButton"),P=a("Panel");return d(),_(P,null,{header:l(()=>[o("title",null,m(s.__("edit_driver")),1)]),content:l(()=>[o("div",ie,[n(g,{class:"h-7 w-7 mx-3"}),o("h1",de,m(s.__("edit_driver")),1)]),o("div",me,[o("div",pe,[o("div",ce,[o("div",fe,[o("div",ue,[n(v,{replace:!0,preload:s.route("storage.drivers")+`/${s.$page.props.data.id}.jpg`,mode:"edit","for-id":s.$page.props.data.id,link:s.route("admin.panel.shipping.driver.update"),ref:"imageCropper",label:s.__("driver_image_jpg"),cropRatio:3/4,id:"img",height:"10",class:"grow"},null,8,["preload","for-id","link","label"]),n(y,{class:"mt-1",message:e.form.errors.img},null,8,["message"])])]),o("form",{onSubmit:t[9]||(t[9]=h((...r)=>c.submit&&c.submit(...r),["prevent"]))},[s.$page.props.agency&&s.$page.props.agency.level<3?(d(),f("div",_e,[n(I,{colsData:["name","phone","level"],labelsData:["name","phone","type"],callback:{level:s.getAgency},error:e.form.errors.agency_id,link:s.route("admin.panel.agency.search"),label:s.__("agency"),id:"agency",selected:e.form.agency_id,"onUpdate:selected":t[0]||(t[0]=r=>e.form.agency_id=r),preload:s.$page.props.data.agency},{selector:l(r=>[o("div",{class:u([(r.selectedText,"py-2"),"px-4 border border-gray-300 rounded hover:bg-gray-100 cursor-pointer flex items-center"])},[o("div",he,m(r.selectedText??s.__("select")),1),r.selectedText?(d(),f("div",{key:0,class:"bg-danger rounded p-2 cursor-pointer text-white hover:bg-danger-400",onClick:h(Me=>r.clear(),["stop"])},[n(b,{class:"w-5 h-5"})],8,ge)):p("",!0)],2)]),_:1},8,["callback","error","link","label","selected","preload"])])):p("",!0),o("div",ve,[n(i,{id:"fullname",type:"text",placeholder:s.__("fullname"),classes:"  ",modelValue:e.form.fullname,"onUpdate:modelValue":t[1]||(t[1]=r=>e.form.fullname=r),autocomplete:"fullname",error:e.form.errors.fullname},{prepend:l(()=>[o("div",ye,[n(w,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",be,[n(i,{id:"phone",type:"tel",placeholder:s.__("phone"),classes:"  ",modelValue:e.form.phone,"onUpdate:modelValue":t[2]||(t[2]=r=>e.form.phone=r),autocomplete:"phone",error:e.form.errors.phone},{prepend:l(()=>[o("div",Ie,[n(x,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",we,[n(i,{id:"national_code",type:"text",placeholder:s.__("national_code"),classes:"  ",modelValue:e.form.national_code,"onUpdate:modelValue":t[3]||(t[3]=r=>e.form.national_code=r),autocomplete:"card",verified:e.form.national_code,"onUpdate:verified":t[4]||(t[4]=r=>e.form.national_code=r),error:e.form.errors.national_code},{prepend:l(()=>[o("div",xe,[n(k,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","verified","error"])]),o("div",ke,[n(i,{id:"card",type:"text",placeholder:s.__("card"),classes:"  ",modelValue:e.form.card,"onUpdate:modelValue":t[5]||(t[5]=r=>e.form.card=r),autocomplete:"card",verified:e.form.wallet_active,"onUpdate:verified":t[6]||(t[6]=r=>e.form.wallet_active=r),error:e.form.errors.card},{prepend:l(()=>[o("div",Ce,[n(C,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","verified","error"])]),o("div",Ve,[n(i,{id:"sheba",type:"text",placeholder:s.__("sheba"),classes:"  ",modelValue:e.form.sheba,"onUpdate:modelValue":t[7]||(t[7]=r=>e.form.sheba=r),autocomplete:"sheba",verified:e.form.sheba,"onUpdate:verified":t[8]||(t[8]=r=>e.form.sheba=r),error:e.form.errors.sheba},{prepend:l(()=>[Ue]),_:1},8,["placeholder","modelValue","verified","error"])]),e.form.progress?(d(),f("div",Pe,[o("div",{class:u(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":e.form.progress.percentage<100}]),style:L(`width: ${e.form.progress.percentage}%`)},[o("span",Se,m(e.form.progress.percentage),1)],6)])):p("",!0),o("div",Be,[n(U,{onClick:c.submit,type:"button",class:u(["w-full flex items-center justify-center",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:l(()=>[e.form.processing?(d(),_(V,{key:0,class:"w-4 h-4 mx-3"})):p("",!0),o("span",Te,m(s.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])]),_:1})}const Io=H(le,[["render",Ee]]);export{Io as default};
