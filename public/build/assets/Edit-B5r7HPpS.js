import"./Scaffold-D_ifbLkl.js";import{P as U,r as L,a as $,f as F}from"./Panel-rs2tkraC.js";import{T as A,Z as D,j as E,i as m,o as l,c as g,w as n,a as s,t as d,b as i,e as p,F as j,h as M,f as a,l as y,n as _,p as X}from"./app-DeJr7fNP.js";import{_ as N}from"./Checkbox-BWgqGgzP.js";import"./GuestLayout-B84nh8OP.js";import{_ as q,a as z}from"./InputLabel-C2gVT93H.js";import{_ as H}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as R}from"./TextInput-BUWn7uYR.js";import{R as G}from"./RadioGroup-F_Tqn1wR.js";import{L as O}from"./LoadingIcon-8dx7WYGr.js";import{P as Q}from"./Popover-BaS0lwjX.js";import{T as Z}from"./Tooltip-CSg56dN2.js";import{_ as J}from"./TagInput-3zOTNi0B.js";import{I as K}from"./ImageUploader-v1nOBbO9.js";import{S as W}from"./Selector-NdNaM2dQ.js";import{P as Y}from"./ProvinceCounty-Bztk6mkC.js";import{P as ee}from"./PhoneFields-Dp_fguC6.js";import{S as re}from"./SocialFields-hQVy6EEa.js";import{A as oe}from"./Article-CxGv6SoN.js";import{T as se}from"./TextEditor-7zAQTOol.js";import{U as te}from"./UserSelector-D8GJCG_Y.js";import{A as ie}from"./AddressSelector-BkUCPfBb.js";import{C as me}from"./CitySelector-BCnZf9JU.js";import{P as le}from"./ProductSelector-Fbd4wGgI.js";import{T as ne}from"./Timestamp-kOba1SAe.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as ae}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as de}from"./Footer-BYUJXMx0.js";import{r as ce}from"./Alert-CDDSmLjy.js";import{r as _e}from"./EyeIcon-DI71KuzS.js";import{r as ue}from"./FolderPlusIcon-oBdmLyEF.js";import{r as fe}from"./Bars2Icon-DNQAv7Yb.js";import{r as he}from"./LinkIcon-ClPrNMD5.js";import{r as ge}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as ye}from"./Squares2X2Icon-Dviu76Pe.js";import{r as be}from"./SignalIcon-C7ONQsBK.js";import{r as we}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as ve}from"./PencilIcon-BtrTq_9n.js";import{r as Ie}from"./CartItemButton-BUsVs_zz.js";import"./ApplicationLogo-CV6pwTdm.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./PlusIcon-NsBgz0vi.js";import"./XMarkIcon-CEnCPALs.js";import"./PhoneIcon-CdiwYJQQ.js";import"./MinusIcon-B-7x8Y4K.js";import"./Pagination-VNHzEPuv.js";import"./ChevronRightIcon-9GRJ1f_S.js";import"./Podcast-BxCdE2Ha.js";import"./SpeakerXMarkIcon-CyRlW18-.js";import"./Video-BLyjCQx2.js";import"./Banner-DAn6f3HS.js";import"./MagnifyingGlassIcon--KPgqpVy.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./geosearch.module--3h6cvjB.js";import"./SearchInput-CiaqlZI_.js";import"./MapPinIcon-DUvwgUpM.js";import"./MapIcon-CJ5EAjl4.js";import"./TrashIcon-BFmLih4l.js";import"./ClockIcon-ByUjxpap.js";const ke={data(){return{data:this.$page.props.data||{},form:A({id:null,name:null,description:null,base_price:null,per_weight_price:null,min_order_weight:null,repo:null,repo_id:null,cities:[],products:[],timestamps:null}),img:null}},components:{Timestamp:ne,TextEditor:se,ImageUploader:K,LoadingIcon:O,Head:D,Link:E,HomeIcon:ae,ChevronDownIcon:de,Panel:U,InputLabel:q,TextInput:R,InputError:z,PrimaryButton:H,RadioGroup:G,UserIcon:ce,EyeIcon:_e,Checkbox:N,Popover:Q,Tooltip:Z,FolderPlusIcon:ue,Bars2Icon:fe,LinkIcon:he,TagInput:J,QuestionMarkCircleIcon:ge,Selector:W,Squares2X2Icon:ye,ProvinceCounty:Y,PhoneFields:ee,SocialFields:re,PencilSquareIcon:L,Article:oe,SignalIcon:be,ChatBubbleBottomCenterTextIcon:we,PencilIcon:ve,UserSelector:te,XMarkIcon:Ie,AddressSelector:ie,CitySelector:me,ProductSelector:le,CurrencyDollarIcon:$,LightBulbIcon:F},created(){},mounted(){this.form.id=this.data.id,this.form.name=this.data.name,this.form.description=this.data.description,this.form.repository=this.data.repository,this.form.base_price=this.data.base_price,this.form.per_weight_price=this.data.per_weight_price,this.form.min_order_weight=this.data.min_order_weight,this.form.products=this.data.products,this.form.cities=this.data.cities,this.form.timestamps=this.data.timestamps||[],this.$refs.timestampSelector.data=this.form.timestamps,this.$nextTick(()=>{})},methods:{submit(){this.form.clearErrors(),this.form.patch(route("admin.panel.shipping-method.update"),{preserveScroll:!1,onSuccess:r=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:r=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},Ve={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},xe={class:"text-2xl font-semibold"},Ce={key:0,class:"px-2 md:px-4"},Se={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},Pe={class:"flex flex-col mx-2 col-span-2 w-full px-2"},Te={key:0,class:"flex flex-col text-md bg-primary-50 rounded-md p-2"},Be={class:"flex my-1"},Ue={class:"my-2"},Le={class:"grow"},$e=["onClick"],Fe={class:"my-2"},Ae={class:"p-3"},De={class:"my-2"},Ee={class:"p-3"},je={class:"my-2"},Me={class:"p-3"},Xe={class:"my-2"},Ne={class:"p-3"},qe={class:"my-2"},ze={class:"p-3"},He={class:"my-4"},Re={key:0,class:"my-4"},Ge={class:"my-2"},Oe={key:1,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},Qe={class:"animate-bounce"},Ze={class:"mt-4"},Je={class:"text-lg"};function Ke(r,t,We,Ye,e,u){const b=m("FolderPlusIcon"),w=m("LightBulbIcon"),v=m("XMarkIcon"),I=m("UserSelector"),f=m("CurrencyDollarIcon"),c=m("TextInput"),k=m("Bars2Icon"),V=m("ChatBubbleBottomCenterTextIcon"),x=m("CitySelector"),C=m("ProductSelector"),S=m("Timestamp"),P=m("LoadingIcon"),T=m("PrimaryButton"),B=m("Panel");return l(),g(B,null,{header:n(()=>[s("title",null,d(r.__("edit_shipping_method")),1)]),content:n(()=>[s("div",Ve,[i(b,{class:"h-7 w-7 mx-3"}),s("h1",xe,d(r.__("edit_shipping_method")),1)]),r.$page.props.data?(l(),p("div",Ce,[s("div",Se,[s("div",Pe,[r.$page.props.help?(l(),p("div",Te,[(l(!0),p(j,null,M(r.$page.props.help,(o,h)=>(l(),p("span",Be,[h==0?(l(),g(w,{key:0,class:"w-5 h-5"})):a("",!0),s("span",{class:_(["mx-1 text-sm",{"font-bold":h==0}])},d(o),3)]))),256))])):a("",!0),s("form",{onSubmit:t[9]||(t[9]=y((...o)=>u.submit&&u.submit(...o),["prevent"]))},[s("div",Ue,[i(I,{colsData:["name","phone","agency_id"],labelsData:["name","phone","agency_id"],callback:{level:r.getAgency},error:e.form.errors.repo_id,link:r.route("admin.panel.repository.search")+"?status=active&is_shop=1",label:r.__("repository"),id:"repository",selected:e.form.repo_id,"onUpdate:selected":t[0]||(t[0]=o=>e.form.repo_id=o),preload:r.$page.props.data.repository},{selector:n(o=>[s("div",{class:_([(o.selectedText,"py-2"),"px-4 border border-gray-300 rounded hover:bg-gray-100 cursor-pointer flex items-center"])},[s("div",Le,d(o.selectedText??r.__("select")),1),o.selectedText?(l(),p("div",{key:0,class:"bg-danger rounded p-2 cursor-pointer text-white hover:bg-danger-400",onClick:y(h=>o.clear(),["stop"])},[i(v,{class:"w-5 h-5"})],8,$e)):a("",!0)],2)]),_:1},8,["callback","error","link","label","selected","preload"])]),s("div",Fe,[i(c,{id:"base_price",type:"number",placeholder:`${r.__("base_price")} (${r.__("currency")})`,classes:"  ",modelValue:e.form.base_price,"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.base_price=o),autocomplete:"base_price",error:e.form.errors.base_price},{prepend:n(()=>[s("div",Ae,[i(f,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s("div",De,[i(c,{id:"per_weight_price",type:"number",placeholder:`${r.__("per_weight_price")} (${r.__("currency")})`,classes:"  ",modelValue:e.form.per_weight_price,"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.per_weight_price=o),autocomplete:"per_weight_price",error:e.form.errors.per_weight_price},{prepend:n(()=>[s("div",Ee,[i(f,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s("div",je,[i(c,{id:"min_order_weight",type:"number",placeholder:`${r.__("min_order_weight")} (${r.__("kg")})`,classes:"  ",modelValue:e.form.min_order_weight,"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.min_order_weight=o),autocomplete:"min_order_weight",error:e.form.errors.min_order_weight},{prepend:n(()=>[s("div",Me,[i(f,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s("div",Xe,[i(c,{id:"name",type:"text",placeholder:r.__("name"),classes:"  ",modelValue:e.form.name,"onUpdate:modelValue":t[4]||(t[4]=o=>e.form.name=o),autocomplete:"name",error:e.form.errors.name},{prepend:n(()=>[s("div",Ne,[i(k,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s("div",qe,[i(c,{id:"description",type:"text",placeholder:r.__("description"),classes:"  ",multiline:!0,modelValue:e.form.description,"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.description=o),autocomplete:"description",error:e.form.errors.description},{prepend:n(()=>[s("div",ze,[i(V,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s("div",He,[i(x,{multi:!0,label:r.__("supported_districts"),modelValue:e.form.cities,"onUpdate:modelValue":t[6]||(t[6]=o=>e.form.cities=o),preload:r.$page.props.data.cities,error:e.form.errors.cities},null,8,["label","modelValue","preload","error"])]),e.form.repo_id?(l(),p("div",Re,[i(C,{link:r.route("admin.panel.product.tree")+`?repo_id=${e.form.repo_id}`,multi:!0,label:r.__("supported_products"),modelValue:e.form.products,"onUpdate:modelValue":t[7]||(t[7]=o=>e.form.products=o),preload:r.$page.props.data.products,error:e.form.errors.products},null,8,["link","label","modelValue","preload","error"])])):a("",!0),s("div",Ge,[i(S,{ref:"timestampSelector",mode:"edit",label:r.__("delivery_hours"),errors:e.form.errors||[],modelValue:e.form.timestamps,"onUpdate:modelValue":t[8]||(t[8]=o=>e.form.timestamps=o)},null,8,["label","errors","modelValue"])]),e.form.progress?(l(),p("div",Oe,[s("div",{class:_(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":e.form.progress.percentage<100}]),style:X(`width: ${e.form.progress.percentage}%`)},[s("span",Qe,d(e.form.progress.percentage),1)],6)])):a("",!0),s("div",Ze,[i(T,{onClick:u.submit,type:"button",class:_(["w-full flex items-center justify-center",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:n(()=>[e.form.processing?(l(),g(P,{key:0,class:"w-4 h-4 mx-3"})):a("",!0),s("span",Je,d(r.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])):a("",!0)]),_:1})}const io=pe(ke,[["render",Ke]]);export{io as default};
