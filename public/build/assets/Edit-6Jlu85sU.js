import"./Scaffold-DWvcdxbt.js";import{P,r as $}from"./Panel-B14SxVgH.js";import{T as C,Z as k,j as T,i as s,o as l,c as d,w as m,a as o,t as n,b as t,l as B,e as V,n as c,p as E,f}from"./app-COCv_6FM.js";import{_ as U}from"./Checkbox-CBncJiFN.js";import"./GuestLayout-BDT4xVuL.js";import{_ as j,a as L}from"./InputLabel-DWU22C58.js";import{_ as A}from"./PrimaryButton-zI18mNha.js";import{_ as F}from"./TextInput-K5DGNw4r.js";import{R as q}from"./RadioGroup-C0IaMOYL.js";import{L as X}from"./LoadingIcon-PyLCRR-O.js";import{P as M}from"./Popover-BnSFaYHK.js";import{T as N}from"./Tooltip-D0OChXnj.js";import{_ as R}from"./TagInput-BIsym76x.js";import{I as z}from"./ImageUploader-s6j9d9TR.js";import{S as D}from"./Selector-D_Wz8VRX.js";import{P as H}from"./ProvinceCounty-C8K57e0e.js";import{P as G}from"./PhoneFields-BjmCrPkD.js";import{S as O}from"./SocialFields-DiyjC1jc.js";import{A as Q}from"./Article-ClNrVETD.js";import{T as Z}from"./TextEditor-CnO9P51X.js";import{U as J}from"./UserSelector-DX52qDNU.js";import{A as K}from"./AddressSelector-Bg6-VUjw.js";import{C as W}from"./CitySelector-dPFDIOiq.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as oo}from"./ShoppingBagIcon-DdettYi9.js";import{r as ro}from"./Footer-B5OFFhHa.js";import{r as eo}from"./Alert-eYSKKEf0.js";import{r as so}from"./EyeIcon-DDKOnXSf.js";import{r as to}from"./FolderPlusIcon-CThkctZA.js";import{r as ao}from"./Bars2Icon-CXJclUCF.js";import{r as io}from"./LinkIcon-L57onCYw.js";import{r as mo}from"./QuestionMarkCircleIcon-56s_3IWs.js";import{r as no}from"./Squares2X2Icon-B-hFow5j.js";import{r as po}from"./SignalIcon-sgS5f9kg.js";import{r as lo}from"./ChatBubbleBottomCenterTextIcon-CDqsO2LX.js";import{r as co}from"./PencilIcon-CQwlpeJo.js";import{r as fo}from"./CartItemButton-ClgMcctk.js";import"./ApplicationLogo-DT4XYSyB.js";import"./WrenchScrewdriverIcon-D0loC_t3.js";import"./PlusIcon-RnmXorVm.js";import"./XMarkIcon-CErzUapP.js";import"./PhoneIcon-CmyMHnNp.js";import"./MinusIcon-7FMvIveB.js";import"./Pagination-B7Lk-YHC.js";import"./ChevronRightIcon-B7nF-CoK.js";import"./Podcast-BgTgi3aO.js";import"./SpeakerXMarkIcon-D8zKgbnz.js";import"./Video-CUwwXX7_.js";import"./Banner-BUcXzEct.js";import"./MagnifyingGlassIcon-BmWdTLzH.js";import"./ChevronUpIcon-BtLkJPMB.js";import"./geosearch.module-Dvy0ZXuX.js";import"./SearchInput-o3w2TZ-x.js";import"./MapPinIcon-DwZhsMsl.js";import"./MapIcon-zUuRLJSy.js";import"./TrashIcon-CtMFSBd1.js";const uo={data(){return{data:this.$page.props.data||{},form:C({id:null,name:null,uploading:!1,category_id:!1,tags:!1}),img:null}},components:{TextEditor:Z,ImageUploader:z,LoadingIcon:X,Head:k,Link:T,HomeIcon:oo,ChevronDownIcon:ro,Panel:P,InputLabel:j,TextInput:F,InputError:L,PrimaryButton:A,RadioGroup:q,UserIcon:eo,EyeIcon:so,Checkbox:U,Popover:M,Tooltip:N,FolderPlusIcon:to,Bars2Icon:ao,LinkIcon:io,TagInput:R,QuestionMarkCircleIcon:mo,Selector:D,Squares2X2Icon:no,ProvinceCounty:H,PhoneFields:G,SocialFields:O,PencilSquareIcon:$,Article:Q,SignalIcon:po,ChatBubbleBottomCenterTextIcon:lo,PencilIcon:co,UserSelector:J,XMarkIcon:fo,AddressSelector:K,CitySelector:W},created(){},mounted(){this.form.id=this.data.id,this.form.name=this.data.name,this.form.category_id=this.data.category_id,this.form.tags=this.data.tags,this.$refs.categorySelector.selecteds=this.form.category_id,this.$refs.tags.set(this.data.tags)},methods:{submit(){this.form.clearErrors(),this.form.patch(route("admin.panel.product.update"),{preserveScroll:!1,onSuccess:e=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:e=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},_o={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},go={class:"text-2xl font-semibold"},ho={class:"px-2 md:px-4"},yo={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},Io={class:"flex flex-col mx-2 col-span-2 w-full px-2"},bo={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto"},xo={class:"my-2"},wo={class:"my-2"},vo={class:"p-3"},So={class:"my-2"},Po={class:"p-3"},$o={class:"my-4"},Co={key:0,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},ko={class:"animate-bounce"},To={class:"mt-4"},Bo={class:"text-lg"};function Vo(e,a,Eo,Uo,r,p){const u=s("FolderPlusIcon"),_=s("ImageUploader"),g=s("InputError"),h=s("Bars2Icon"),y=s("TextInput"),I=s("Squares2X2Icon"),b=s("Selector"),x=s("TagInput"),w=s("LoadingIcon"),v=s("PrimaryButton"),S=s("Panel");return l(),d(S,null,{header:m(()=>[o("title",null,n(e.__("edit_product")),1)]),content:m(()=>[o("div",_o,[t(u,{class:"h-7 w-7 mx-3"}),o("h1",go,n(e.__("edit_product")),1)]),o("div",ho,[o("div",yo,[o("div",Io,[o("div",bo,[o("div",xo,[t(_,{replace:!0,preload:e.route("storage.products")+`/${e.$page.props.data.id}.jpg`,mode:"edit","for-id":e.$page.props.data.id,link:e.route("admin.panel.product.update"),ref:"imageCropper",label:e.__("product_image_jpg"),cropRatio:1,id:"img",height:"10",class:"grow"},null,8,["preload","for-id","link","label"]),t(g,{class:"mt-1",message:r.form.errors.img},null,8,["message"])])]),o("form",{onSubmit:a[3]||(a[3]=B((...i)=>p.submit&&p.submit(...i),["prevent"]))},[o("div",wo,[t(y,{id:"name",type:"text",placeholder:e.__("name"),classes:"  ",modelValue:r.form.name,"onUpdate:modelValue":a[0]||(a[0]=i=>r.form.name=i),autocomplete:"name",error:r.form.errors.name},{prepend:m(()=>[o("div",vo,[t(h,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",So,[t(b,{ref:"categorySelector",modelValue:r.form.category_id,"onUpdate:modelValue":a[1]||(a[1]=i=>r.form.category_id=i),data:e.$page.props.categories,error:r.form.errors.category_id,label:e.__("category"),id:"category_id"},{append:m(()=>[o("div",Po,[t(I,{class:"h-5 w-5"})])]),_:1},8,["modelValue","data","error","label"])]),o("div",$o,[t(x,{ref:"tags",multi:!0,placeholder:e.__("tags"),modelValue:r.form.tags,"onUpdate:modelValue":a[2]||(a[2]=i=>r.form.tags=i),error:r.form.errors.tags},null,8,["placeholder","modelValue","error"])]),r.form.progress?(l(),V("div",Co,[o("div",{class:c(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":r.form.progress.percentage<100}]),style:E(`width: ${r.form.progress.percentage}%`)},[o("span",ko,n(r.form.progress.percentage),1)],6)])):f("",!0),o("div",To,[t(v,{onClick:p.submit,type:"button",class:c(["w-full flex items-center justify-center",{"opacity-25":r.form.processing}]),disabled:r.form.processing},{default:m(()=>[r.form.processing?(l(),d(w,{key:0,class:"w-4 h-4 mx-3"})):f("",!0),o("span",Bo,n(e.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])]),_:1})}const Ar=Y(uo,[["render",Vo]]);export{Ar as default};
