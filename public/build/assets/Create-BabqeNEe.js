import"./Scaffold-D_ifbLkl.js";import{P as k}from"./Panel-rs2tkraC.js";import{T as E,Z as U,j,i as r,o as m,c as _,w as l,a as o,t as a,b as s,l as F,e as L,n as f,p as R,f as u}from"./app-DeJr7fNP.js";import{_ as $}from"./Checkbox-BWgqGgzP.js";import"./GuestLayout-B84nh8OP.js";import{_ as D,a as M}from"./InputLabel-C2gVT93H.js";import{_ as q}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as G}from"./TextInput-BUWn7uYR.js";import{R as N}from"./RadioGroup-F_Tqn1wR.js";import{L as Q}from"./LoadingIcon-8dx7WYGr.js";import{P as X}from"./Popover-BaS0lwjX.js";import{T as z}from"./Tooltip-CSg56dN2.js";import{_ as H}from"./TagInput-3zOTNi0B.js";import{I as O}from"./ImageUploader-v1nOBbO9.js";import{S as Z}from"./Selector-NdNaM2dQ.js";import{P as A}from"./ProvinceCounty-Bztk6mkC.js";import{P as J}from"./PhoneFields-Dp_fguC6.js";import{S as K}from"./SocialFields-hQVy6EEa.js";import{V as W}from"./Video-BLyjCQx2.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as oo}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as eo}from"./Footer-BYUJXMx0.js";import{r as ro}from"./Alert-CDDSmLjy.js";import{r as so}from"./EyeIcon-DI71KuzS.js";import{r as to}from"./FolderPlusIcon-oBdmLyEF.js";import{r as no}from"./Bars2Icon-DNQAv7Yb.js";import{r as io}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as lo}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as ao}from"./Squares2X2Icon-Dviu76Pe.js";import{r as mo}from"./SignalIcon-C7ONQsBK.js";import"./ApplicationLogo-CV6pwTdm.js";import"./CartItemButton-BUsVs_zz.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./XMarkIcon-CEnCPALs.js";import"./PhoneIcon-CdiwYJQQ.js";import"./LinkIcon-ClPrNMD5.js";import"./SpeakerXMarkIcon-CyRlW18-.js";const co={data(){return{form:E({lang:null,name:null,socials:null,category_id:null,tags:"",description:""}),img:null,video:null,duration:null}},components:{ImageUploader:O,LoadingIcon:Q,Head:U,Link:j,HomeIcon:oo,ChevronDownIcon:eo,Panel:k,InputLabel:D,TextInput:G,InputError:M,PrimaryButton:q,RadioGroup:N,UserIcon:ro,EyeIcon:so,Checkbox:$,Popover:X,Tooltip:z,FolderPlusIcon:to,Bars2Icon:no,ChatBubbleBottomCenterTextIcon:io,TagInput:H,QuestionMarkCircleIcon:lo,Selector:Z,Squares2X2Icon:ao,ProvinceCounty:A,PhoneFields:J,SocialFields:K,SignalIcon:mo,Video:W},mounted(){},methods:{submit(){this.img=this.$refs.imageCropper.getCroppedData(),this.video=this.$refs.video.file,this.duration=parseInt(this.$refs.video.getDuration()),this.form.uploading=!1,this.form.lang=this.$refs.langSelector.selected,this.form.clearErrors(),this.form.post(route("video.create"),{preserveScroll:!1,onSuccess:t=>{this.form.uploading||(this.form.uploading=!0,this.form.transform(n=>({...n,uploading:!0,img:this.img,video:this.video,duration:this.duration})).post(route("video.create"),{preserveScroll:!1,onSuccess:n=>{},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:n=>{}}))},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:t=>{}})}},watch:{}},po={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},_o={class:"text-2xl font-semibold"},fo={class:"px-2 md:px-4"},uo={class:"lg:grid lg:grid-cols-3 mx-auto md:max-w-5xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},go={class:"lg:flex-col flex flex-wrap self-center md:m-2 lg:mx-2 md:items-center lg:items-stretch rounded-lg"},ho={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto lg:mx-2"},vo={class:"my-2"},Io={class:"my-2"},yo={class:"flex flex-col mx-2 col-span-2 w-full lg:border-s px-2"},bo={class:"flex items-center"},xo={class:"my-2"},wo={class:"p-3"},Co={class:"my-2"},So={class:"p-3"},Vo={class:"my-2"},Bo={class:"my-2"},Po={class:"p-3"},To={key:0,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},ko={class:"animate-bounce"},Eo={class:"mt-4"},Uo={class:"text-lg"};function jo(t,n,Fo,Lo,e,c){const g=r("FolderPlusIcon"),h=r("ImageUploader"),p=r("InputError"),v=r("Video"),I=r("QuestionMarkCircleIcon"),y=r("Tooltip"),b=r("RadioGroup"),x=r("Bars2Icon"),d=r("TextInput"),w=r("Squares2X2Icon"),C=r("Selector"),S=r("TagInput"),V=r("ChatBubbleBottomCenterTextIcon"),B=r("LoadingIcon"),P=r("PrimaryButton"),T=r("Panel");return m(),_(T,null,{header:l(()=>[o("title",null,a(t.__("new_video")),1)]),content:l(()=>[o("div",po,[s(g,{class:"h-7 w-7 mx-3"}),o("h1",_o,a(t.__("new_video")),1)]),o("div",fo,[o("div",uo,[o("div",go,[o("div",ho,[o("div",vo,[s(h,{ref:"imageCropper",label:t.__("image_cover_jpg"),cropRatio:"1.25",id:"img",height:"10",class:"grow"},null,8,["label"]),s(p,{class:"mt-1",message:e.form.errors.img},null,8,["message"])]),o("div",Io,[s(v,{lang:t.$page.props.locale,"for-id":"video",view:"linear",mode:"create",ref:"video",label:t.__("video_file_mp4"),classes:"w-full h-64"},null,8,["lang","label"]),s(p,{class:"mt-1",message:e.form.errors.video},null,8,["message"])])])]),o("div",yo,[o("form",{onSubmit:n[4]||(n[4]=F((...i)=>c.submit&&c.submit(...i),["prevent"]))},[o("div",bo,[s(y,{class:"p-2",content:t.__("help_lang")},{default:l(()=>[s(I,{class:"text-gray-500 hover:bg-gray-50 w-4 h-4"})]),_:1},8,["content"]),s(b,{ref:"langSelector",class:"grow",name:"lang",items:t.$page.props.langs},null,8,["items"])]),o("div",xo,[s(d,{id:"name",type:"text",placeholder:t.__("title"),classes:"  ",modelValue:e.form.name,"onUpdate:modelValue":n[0]||(n[0]=i=>e.form.name=i),autocomplete:"name",error:e.form.errors.name},{prepend:l(()=>[o("div",wo,[s(x,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o("div",Co,[s(C,{ref:"categorySelector",data:t.$page.props.categories,label:t.__("category"),id:"category_id",modelValue:e.form.category_id,"onUpdate:modelValue":n[1]||(n[1]=i=>e.form.category_id=i)},{append:l(()=>[o("div",So,[s(w,{class:"h-5 w-5"})])]),_:1},8,["data","label","modelValue"])]),o("div",Vo,[s(S,{id:"tags",placeholder:t.__("tags"),classes:"  ",modelValue:e.form.tags,"onUpdate:modelValue":n[2]||(n[2]=i=>e.form.tags=i),autocomplete:"tags",error:e.form.errors.tags},null,8,["placeholder","modelValue","error"])]),o("div",Bo,[s(d,{multiline:!0,id:"description",type:"text",placeholder:t.__("description"),classes:"  ",modelValue:e.form.description,"onUpdate:modelValue":n[3]||(n[3]=i=>e.form.description=i),autocomplete:"description",error:e.form.errors.description},{prepend:l(()=>[o("div",Po,[s(V,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),e.form.progress?(m(),L("div",To,[o("div",{class:f(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":e.form.progress.percentage<100}]),style:R(`width: ${e.form.progress.percentage}%`)},[o("span",ko,a(e.form.progress.percentage),1)],6)])):u("",!0),o("div",Eo,[s(P,{class:f(["w-full",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:l(()=>[e.form.processing?(m(),_(B,{key:0,class:"w-4 h-4 mx-3"})):u("",!0),o("span",Uo,a(t.__("register_info")),1)]),_:1},8,["class","disabled"])])],32)])])])]),_:1})}const xe=Y(co,[["render",jo]]);export{xe as default};
