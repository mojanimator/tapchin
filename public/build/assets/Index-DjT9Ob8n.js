import{L as N}from"./LoadingIcon-8dx7WYGr.js";import{I as L}from"./Footer-BYUJXMx0.js";import{S as F}from"./Scaffold-D_ifbLkl.js";import{Z as D,j as T,i as s,o as l,c as u,w as c,a as e,t as a,b as d,g as j,f as p,e as _,h as f,F as x,k as $,v as P}from"./app-DeJr7fNP.js";import{h as E}from"./hero-CnHX6oGc.js";import{_ as M}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as H}from"./SecondaryButton-Bn4R_gjB.js";import{_ as Z}from"./SearchInput-CiaqlZI_.js";import{S as z,a as A}from"./swiper-vue-CS5c3IvU.js";import{N as O,P as Y,A as U}from"./scrollbar-D-KXdfFN.js";import{S as q}from"./scrollbar-T_jY5SJb.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as J}from"./EyeIcon-DI71KuzS.js";import{r as K}from"./PhotoIcon-hKcXHLHA.js";import"./Alert-CDDSmLjy.js";import"./ApplicationLogo-CV6pwTdm.js";const Q={data(){return{modules:[O,Y,q,U],categories:[],heroImage:E,loading:!1,total:0,data:[],params:{page:0,search:null,order_by:null,dir:null}}},props:["heroText"],components:{SearchInput:Z,SecondaryButton:H,PrimaryButton:M,Scaffold:F,Head:D,LoadingIcon:N,Image:L,EyeIcon:J,Link:T,PhotoIcon:K,Swiper:z,SwiperSlide:A},setup(t){},mounted(){this.getData()},methods:{getData(t){t==0&&(this.params.page=1,this.data=[]),!(this.total>0&&this.total<=this.data.length)&&(this.loading=!0,window.axios.get(route("banner.search"),{params:this.params}).then(o=>{this.total=o.data.total,this.params.page=o.data.current_page+1,this.categories=o.data}).catch(o=>{this.error=this.getErrors(o),this.showToast("danger",this.error)}).finally(()=>{this.loading=!1}))},setScroll(t){window.onscroll=()=>{let o=t.offsetTop,m=t.offsetTop+t.offsetHeight,h=window.pageYOffset+window.innerHeight,n=window.pageYOffset;h+300>o&&n<m+200&&!this.loading&&this.getData()}}}},R={class:"relative bg-gradient-to-t from-pink-300 via-purple-300 to-indigo-400"},W={class:"py-4 mx-auto"},X={class:"px-3 sm:px-1 flex flex-col md:flex-row items-center"},ee={class:"flex flex-col max-w-3xl text-white w-full justify-center mx-auto text-center"},te=e("h1",{class:"my-4 text-5xl font-bold leading-tight"},null,-1),oe=["innerHTML"],se={class:"px-3 flex items-stretch justify-center"};const ae={class:""},re={class:"ps-8"},ie={key:0,class:"my-8"},ne={class:"p-2 my-2 font-semibold w-fit text-primary-500 border-b-2 border-primary-500"},le={class:"absolute text-gray-500 rounded-full p-4 mx-4 top-[10rem] bg-white shadow-lg"},de={key:0,class:"absolute text-gray-500 rounded-lg text-white bg-rose-500 p-1 px-2 m-2 end-0 top-0 shadow-lg"},ce={class:"p-2 mt-4 text-gray-700"},_e={class:"px-2 py-2 text-sm text-gray-400"},pe={class:"px-4 py-2 text-xs text-gray-400"},me=e("hr",{class:"border-gray-200"},null,-1),he={class:"flex justify-around items-center p-4 text-sm text-gray-500"},ge={class:"flex items-center"},ue={class:"px-1"},fe={class:"px-1"},xe=e("div",{class:"border-s py-4"},null,-1),we=e("div",{class:"flex items-center"},null,-1);function ye(t,o,m,h,n,w){const y=s("SecondaryButton"),v=s("SearchInput"),b=s("Image"),k=s("PhotoIcon"),C=s("Link"),B=s("swiper-slide"),S=s("swiper"),V=s("LoadingIcon"),I=s("Scaffold");return l(),u(I,{"navbar-theme":"dark"},{header:c(()=>[e("title",null,a(t.__("banners")),1)]),default:c(()=>[e("div",R,[e("div",W,[e("div",X,[e("div",ee,[te,e("p",{class:"leading-normal text-2xl mb-8",innerHTML:m.heroText},null,8,oe),e("div",se,[d(y,{onClick:o[0]||(o[0]=r=>t.$inertia.visit(t.route("panel.banner.create"))),class:"md:mx-2 p-2 text-xs md:text-sm"},{default:c(()=>[j(a(t.__("register_banner")),1)]),_:1}),d(v,{modelValue:n.params.search,"onUpdate:modelValue":o[1]||(o[1]=r=>n.params.search=r),onSearch:o[2]||(o[2]=r=>w.getData(0))},null,8,["modelValue"])])])])]),p("",!0)]),p("",!0),e("section",ae,[(l(!0),_(x,null,f(n.categories,(r,g)=>(l(),_("div",re,[r&&r.length>0?(l(),_("div",ie,[e("div",ne,a(t.getCategory(g)),1),d(S,{class:"w-full",modules:n.modules,"slides-per-view":"auto","space-between":16,pagination:{clickable:!0},scrollbar:{draggable:!0},onSwiper:o[3]||(o[3]=()=>{}),onSlideChange:o[4]||(o[4]=()=>{})},{default:c(()=>[(l(!0),_(x,null,f(r,(i,ve)=>(l(),u(B,{class:"max-w-[16rem]"},{default:c(()=>[d(C,{href:t.route("article",i.article_id),class:"flex my-2 max-w-xs flex-col relative items-stretch cursor-pointer hover:scale-[101%] duration-300 rounded-lg overflow-hidden shadow-lg"},{default:c(()=>[d(b,{src:t.route("storage.banners")+`/${i.id}.jpg`,classes:"object-cover rounded-lg h-48   w-full"},null,8,["src"]),e("div",le,[d(k,{class:"w-5 h-5"})]),i.status=="active"?(l(),_("div",de,a(`${i.view_fee} ⭐️`),1)):p("",!0),e("div",ce,a(t.cropText(i.name,30)),1),e("div",_e,a(t.cropText(i.designer,30)),1),e("div",pe,a(t.getCategory(i.category_id)),1),me,e("div",he,[e("div",ge,[e("span",ue,a(t.__("view"))+":",1),e("span",fe,a(i.view),1)]),xe,we])]),_:2},1032,["href"])]),_:2},1024))),256))]),_:2},1032,["modules"])])):p("",!0)]))),256))]),$(d(V,{ref:"loader",type:"linear"},null,512),[[P,n.loading]])]),_:1})}const Me=G(Q,[["render",ye]]);export{Me as default};
