import{P as b,r as P}from"./Panel-rs2tkraC.js";import{_ as I}from"./PrimaryButton-Fk5jf8Nh.js";import{L as V}from"./LoadingIcon-8dx7WYGr.js";import{P as B}from"./PhoneFields-Dp_fguC6.js";import{_ as S}from"./TextInput-BUWn7uYR.js";import{T,i as n,o as l,c as _,w as p,a as e,t as a,b as i,e as h,l as k,n as u,p as E,f as m}from"./app-DeJr7fNP.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as F}from"./KeyIcon-WoC7budB.js";import"./Footer-BYUJXMx0.js";import"./Alert-CDDSmLjy.js";import"./ApplicationLogo-CV6pwTdm.js";import"./Tooltip-CSg56dN2.js";import"./CartItemButton-BUsVs_zz.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";import"./ShoppingBagIcon-zIu7FSuq.js";import"./Bars2Icon-DNQAv7Yb.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./QuestionMarkCircleIcon-jeUFMgsk.js";import"./Scaffold-D_ifbLkl.js";import"./InputLabel-C2gVT93H.js";import"./PhoneIcon-CdiwYJQQ.js";const L={data(){return{data:this.data||{},form:T({cmnd:"password-reset",new_password:null,new_password_confirmation:null,phone:null,phone_verify:null})}},components:{Panel:b,PencilSquareIcon:P,PrimaryButton:I,LoadingIcon:V,PhoneFields:B,TextInput:S,KeyIcon:F},created(){this.data=this.$page.props.auth.user},mounted(){this.form.phone=this.data.phone},methods:{submit(){this.form.clearErrors(),this.form.patch(route("profile.update"),{preserveScroll:!1,onSuccess:t=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message),this.form.new_password=null,this.form.new_password_confirmation=null,this.form.phone_verify=null},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:t=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},U={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},j={class:"text-2xl font-semibold"},q={class:"px-2 md:px-4"},K={key:0,class:"lg:grid lg:grid-cols-3 mx-auto md:max-w-5xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},N=e("div",{class:"lg:flex-col flex flex-wrap self-center md:m-2 lg:mx-2 md:items-center lg:items-stretch rounded-lg"},null,-1),z={class:"flex flex-col mx-2 col-span-2 w-full lg:border-s px-2"},A={class:"my-2"},D={class:"my-2"},M={class:"p-3"},O={class:"my-2"},G={class:"p-3"},H=e("div",{class:"py-4"},null,-1),J={key:0,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},Q={class:"animate-bounce"},R={class:"mt-4"},W={class:"text-lg"};function X(t,s,Y,Z,o,d){const w=n("PencilSquareIcon"),g=n("PhoneFields"),c=n("KeyIcon"),f=n("TextInput"),y=n("LoadingIcon"),v=n("PrimaryButton"),x=n("Panel");return l(),_(x,null,{header:p(()=>[e("title",null,a(t.__("edit_profile")),1)]),content:p(()=>[e("div",U,[i(w,{class:"h-7 w-7 mx-3"}),e("h1",j,a(t.__("edit_password")),1)]),e("div",q,[o.data&&o.data.id?(l(),h("div",K,[N,e("div",z,[e("form",{onSubmit:s[4]||(s[4]=k((...r)=>d.submit&&d.submit(...r),["prevent"]))},[e("div",A,[i(g,{phone:o.form.phone,"onUpdate:phone":s[0]||(s[0]=r=>o.form.phone=r),"phone-verify":o.form.phone_verify,"onUpdate:phoneVerify":s[1]||(s[1]=r=>o.form.phone_verify=r),"phone-error":o.form.errors.phone,type:"forget",for:"users",verified:null,activeButtonText:t.__("send_code"),disable:!1,disableEdit:!0,"phone-verify-error":o.form.errors.phone_verify},null,8,["phone","phone-verify","phone-error","activeButtonText","phone-verify-error"])]),e("div",D,[i(f,{id:"new_password",type:"password",placeholder:t.__("new_password"),classes:"  ",modelValue:o.form.new_password,"onUpdate:modelValue":s[2]||(s[2]=r=>o.form.new_password=r),autocomplete:o.form.new_password,error:o.form.errors.new_password},{prepend:p(()=>[e("div",M,[i(c,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","autocomplete","error"])]),e("div",O,[i(f,{id:"new_password_confirmation",type:"password",placeholder:t.__("confirm_password"),classes:"  ",modelValue:o.form.new_password_confirmation,"onUpdate:modelValue":s[3]||(s[3]=r=>o.form.new_password_confirmation=r),autocomplete:o.form.new_password_confirmation,error:o.form.errors.new_password_confirmation},{prepend:p(()=>[e("div",G,[i(c,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","autocomplete","error"])]),H,o.form.progress?(l(),h("div",J,[e("div",{class:u(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":o.form.progress.percentage<100}]),style:E(`width: ${o.form.progress.percentage}%`)},[e("span",Q,a(o.form.progress.percentage),1)],6)])):m("",!0),e("div",R,[i(v,{class:u(["w-full",{"opacity-25":o.form.processing}]),disabled:o.form.processing},{default:p(()=>[o.form.processing?(l(),_(y,{key:0,class:"w-4 h-4 mx-3"})):m("",!0),e("span",W,a(t.__("register_info")),1)]),_:1},8,["class","disabled"])])],32)])])):m("",!0)])]),_:1})}const Po=C(L,[["render",X]]);export{Po as default};
