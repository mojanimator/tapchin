import"./Scaffold-D_ifbLkl.js";import{P as C,r as P}from"./Panel-rs2tkraC.js";import{T as S,Z as B,j as U,i as t,o as l,c as g,w as i,a as r,t as m,b as a,l as h,e as d,n as f,f as p,p as T}from"./app-DeJr7fNP.js";import{_ as V}from"./Checkbox-BWgqGgzP.js";import{_ as E,a as j}from"./InputLabel-C2gVT93H.js";import{_ as L}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as M}from"./TextInput-BUWn7uYR.js";import{L as D}from"./LoadingIcon-8dx7WYGr.js";import{I as F}from"./ImageUploader-v1nOBbO9.js";import{S as X}from"./Selector-NdNaM2dQ.js";import{U as A}from"./UserSelector-D8GJCG_Y.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as q}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as z}from"./Footer-BYUJXMx0.js";import{r as H}from"./Alert-CDDSmLjy.js";import{r as O}from"./EyeIcon-DI71KuzS.js";import{r as Q}from"./FolderPlusIcon-oBdmLyEF.js";import{r as R}from"./Bars2Icon-DNQAv7Yb.js";import{r as Z}from"./LinkIcon-ClPrNMD5.js";import{r as G}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as J}from"./Squares2X2Icon-Dviu76Pe.js";import{r as K}from"./SignalIcon-C7ONQsBK.js";import{r as W}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as Y}from"./PencilIcon-BtrTq_9n.js";import{r as ee}from"./CartItemButton-BUsVs_zz.js";import{r as re}from"./PhoneIcon-CdiwYJQQ.js";import{r as oe}from"./IdentificationIcon-CCc4K6B8.js";import{r as se}from"./CreditCardIcon-B7pkE30T.js";import"./ApplicationLogo-CV6pwTdm.js";import"./Tooltip-CSg56dN2.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./XMarkIcon-CEnCPALs.js";import"./Pagination-VNHzEPuv.js";import"./ChevronRightIcon-9GRJ1f_S.js";import"./MagnifyingGlassIcon--KPgqpVy.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";const te={data(){return{data:this.$page.props.data||{},form:S({id:null,agency_id:null,name:null,plate_number:null,uploading:!1}),img:null}},components:{ImageUploader:F,LoadingIcon:D,Head:B,Link:U,HomeIcon:q,ChevronDownIcon:z,Panel:C,InputLabel:E,TextInput:M,InputError:j,PrimaryButton:L,UserIcon:H,EyeIcon:O,Checkbox:V,FolderPlusIcon:Q,Bars2Icon:R,LinkIcon:Z,QuestionMarkCircleIcon:G,Selector:X,Squares2X2Icon:J,PencilSquareIcon:P,SignalIcon:K,ChatBubbleBottomCenterTextIcon:W,PencilIcon:Y,UserSelector:A,XMarkIcon:ee,PhoneIcon:re,IdentificationIcon:oe,CreditCardIcon:se},created(){},mounted(){this.form.id=this.data.id,this.form.agency_id=this.data.agency_id,this.form.name=this.data.name,this.form.plate_number=this.data.plate_number},methods:{submit(){this.form.clearErrors(),this.form.patch(route("admin.panel.shipping.car.update"),{preserveScroll:!1,onSuccess:e=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:e=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},ae={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},ne={class:"text-2xl font-semibold"},ie={class:"px-2 md:px-4"},le={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},me={class:"flex flex-col mx-2 col-span-2 w-full px-2"},pe={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto"},ce={class:"my-2"},de={key:0,class:"my-2"},fe={class:"grow"},_e=["onClick"],ue={class:"my-2"},ge={class:"p-3"},he={class:"my-2"},ye={class:"p-3"},be={key:1,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},Ie={class:"animate-bounce"},ve={class:"mt-4"},xe={class:"text-lg"};function we(e,n,ke,$e,o,c){const y=t("FolderPlusIcon"),b=t("ImageUploader"),I=t("InputError"),v=t("XMarkIcon"),x=t("UserSelector"),_=t("Bars2Icon"),u=t("TextInput"),w=t("LoadingIcon"),k=t("PrimaryButton"),$=t("Panel");return l(),g($,null,{header:i(()=>[r("title",null,m(e.__("edit_car")),1)]),content:i(()=>[r("div",ae,[a(y,{class:"h-7 w-7 mx-3"}),r("h1",ne,m(e.__("edit_car")),1)]),r("div",ie,[r("div",le,[r("div",me,[r("div",pe,[r("div",ce,[a(b,{replace:!0,preload:e.route("storage.cars")+`/${e.$page.props.data.id}.jpg`,mode:"edit","for-id":e.$page.props.data.id,link:e.route("admin.panel.shipping.car.update"),ref:"imageCropper",label:e.__("car_image_jpg"),cropRatio:1.25,id:"img",height:"10",class:"grow"},null,8,["preload","for-id","link","label"]),a(I,{class:"mt-1",message:o.form.errors.img},null,8,["message"])])]),r("form",{onSubmit:n[3]||(n[3]=h((...s)=>c.submit&&c.submit(...s),["prevent"]))},[e.$page.props.agency&&e.$page.props.agency.level<3?(l(),d("div",de,[a(x,{colsData:["name","phone","level"],labelsData:["name","phone","type"],callback:{level:e.getAgency},error:o.form.errors.agency_id,link:e.route("admin.panel.agency.search"),label:e.__("agency"),id:"agency",selected:o.form.agency_id,"onUpdate:selected":n[0]||(n[0]=s=>o.form.agency_id=s),preload:e.$page.props.data.agency},{selector:i(s=>[r("div",{class:f([(s.selectedText,"py-2"),"px-4 border border-gray-300 rounded hover:bg-gray-100 cursor-pointer flex items-center"])},[r("div",fe,m(s.selectedText??e.__("select")),1),s.selectedText?(l(),d("div",{key:0,class:"bg-danger rounded p-2 cursor-pointer text-white hover:bg-danger-400",onClick:h(Ce=>s.clear(),["stop"])},[a(v,{class:"w-5 h-5"})],8,_e)):p("",!0)],2)]),_:1},8,["callback","error","link","label","selected","preload"])])):p("",!0),r("div",ue,[a(u,{id:"name",type:"text",placeholder:e.__("name"),classes:"  ",modelValue:o.form.name,"onUpdate:modelValue":n[1]||(n[1]=s=>o.form.name=s),autocomplete:"name",error:o.form.errors.name},{prepend:i(()=>[r("div",ge,[a(_,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),r("div",he,[a(u,{id:"plate_number",type:"text",placeholder:e.__("plate_number"),classes:"  ",modelValue:o.form.plate_number,"onUpdate:modelValue":n[2]||(n[2]=s=>o.form.plate_number=s),autocomplete:"plate_number",error:o.form.errors.plate_number},{prepend:i(()=>[r("div",ye,[a(_,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),o.form.progress?(l(),d("div",be,[r("div",{class:f(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":o.form.progress.percentage<100}]),style:T(`width: ${o.form.progress.percentage}%`)},[r("span",Ie,m(o.form.progress.percentage),1)],6)])):p("",!0),r("div",ve,[a(k,{onClick:c.submit,type:"button",class:f(["w-full flex items-center justify-center",{"opacity-25":o.form.processing}]),disabled:o.form.processing},{default:i(()=>[o.form.processing?(l(),g(w,{key:0,class:"w-4 h-4 mx-3"})):p("",!0),r("span",xe,m(e.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])]),_:1})}const cr=N(te,[["render",we]]);export{cr as default};
