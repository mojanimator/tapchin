import"./Scaffold-D_ifbLkl.js";import{P as T}from"./Panel-rs2tkraC.js";import{Z as L,j as M,$ as U,i as h,o as d,c as C,w as _,a as e,t as i,b as l,g as y,e as c,h as b,F as v,k as w,G as V,J as B,A as S,f as u,n as D}from"./app-DeJr7fNP.js";import{P as q,r as z}from"./Pagination-VNHzEPuv.js";import{r as G,I as N}from"./Footer-BYUJXMx0.js";import{T as X}from"./Tooltip-CSg56dN2.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as H}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as K}from"./Bars2Icon-DNQAv7Yb.js";import{r as J}from"./MagnifyingGlassIcon--KPgqpVy.js";import{r as Z}from"./CartItemButton-BUsVs_zz.js";import"./Alert-CDDSmLjy.js";import"./LoadingIcon-8dx7WYGr.js";import"./ApplicationLogo-CV6pwTdm.js";import"./TextInput-BUWn7uYR.js";import"./InputLabel-C2gVT93H.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./QuestionMarkCircleIcon-jeUFMgsk.js";import"./ChevronRightIcon-9GRJ1f_S.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";const O={data(){return{params:{page:1,search:null,paginate:this.$page.props.pageItems[0],order_by:null,dir:"DESC"},data:[],pagination:{},toggleSelect:!1,loading:!1,error:null}},components:{Head:L,Link:M,HomeIcon:H,ChevronDownIcon:G,Panel:T,Bars2Icon:K,Image:N,MagnifyingGlassIcon:J,XMarkIcon:Z,Pagination:q,ArrowsUpDownIcon:z,Tooltip:X},mounted(){this.getData()},methods:{getData(){this.loading=!0,this.data=[],window.axios.get(route("admin.panel.shipping-method.search"),{params:this.params},{}).then(t=>{this.data=t.data.data,this.data.forEach(s=>{s.selected=!1}),delete t.data.data,this.pagination=t.data,this.$nextTick(()=>{this.initTableDropdowns()})}).catch(t=>{t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),this.error=t.response.data):t.request?(console.log(t.request),this.error=t.request):(console.log("Error",t.message),this.error=t.message),console.log(t.config),this.showToast("danger",t)}).finally(()=>{this.loading=!1})},initTableDropdowns(){const t=[].slice.call(document.querySelectorAll("td [data-te-dropdown-toggle-ref]"));window.dropdownList=t.map(s=>{let n=new U(s);return s.addEventListener("click",function(p){n.toggle()}),n})},toggleAll(){this.toggleSelect=!this.toggleSelect,this.data.forEach(t=>{t.selected=this.toggleSelect})},edit(t){this.isLoading(!0),window.axios.patch(route("admin.panel.shipping-method.update"),t,{}).then(s=>{s.data&&s.data.message&&this.showToast("success",s.data.message),s.data.charge&&(this.data[t.idx].charge=s.data.charge,this.user.wallet=s.data.wallet),s.data.status&&(this.data[t.idx].status=s.data.status),s.data.view_fee&&(this.data[t.idx].view_fee=s.data.view_fee),s.data.meta&&(this.data[t.idx].meta=s.data.meta,this.user.meta_wallet=s.data.meta_wallet)}).catch(s=>{this.error=this.getErrors(s),s.response&&s.response.data&&(s.response.data.charge&&(this.data[t.idx].charge=s.response.data.charge),s.response.data.view_fee&&(this.data[t.idx].view_fee=s.response.data.view_fee),s.response.data.meta&&(this.data[t.idx].meta=s.response.data.meta)),this.showToast("danger",this.error)}).finally(()=>{this.isLoading(!1)})},paginationChanged(t){this.params.page=t.page,this.getData()},bulkAction(t){if(this.data.filter(n=>n.selected).length==0){this.showToast("danger",this.__("nothing_selected"));return}this.isLoading(!0);const s={cmnd:t,data:this.data.reduce((n,p)=>(p.selected&&n.push(p.id),n),[])};window.axios.patch(route("admin.panel.shipping-method.update"),s,{}).then(n=>{if(n.data&&n.data.message&&this.showToast("success",n.data.message),n.data&&n.data.results){const p=n.data.results;for(let o in this.data)for(let r in p)if(p[r].id==this.data[o].id){this.data[o].status=p[r].status;break}}}).catch(n=>{this.error=this.getErrors(n),this.showToast("danger",this.error)}).finally(()=>{this.isLoading(!1)})}}},Q={class:"flex items-center justify-between px-4 py-2 text-primary-500 border-b md:py-4"},R={class:"flex"},W={class:"font-semibold"},Y={class:"px-2 flex flex-col md:px-4"},$={class:"flex-col bg-white overflow-x-auto shadow-lg rounded-lg"},ee={class:"flex items-center justify-between py-4 p-4"},te={class:"relative mx-1","data-te-dropdown-ref":""},se={id:"dropdownActionsSetting","data-te-dropdown-toggle-ref":"","aria-expanded":"false","data-te-ripple-init":"","data-te-ripple-color":"light",class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5"},ae=e("span",{class:"sr-only"},"table actions",-1),oe={ref:"actionsMenu","data-te-dropdown-menu-ref":"",class:"min-w-[12rem] absolute z-[1000] float-start m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-start text-base shadow-lg [&[data-te-dropdown-show]]:block",tabindex:"-1",role:"menu","aria-orientation":"vertical","aria-label":"Actions menu","aria-labelledby":"dropdownActionsSetting"},ie={class:"flex items-center"},re={class:"relative mx-1","data-te-dropdown-ref":""},ne={id:"dropdownPaginate","data-te-dropdown-toggle-ref":"","aria-expanded":"false","data-te-ripple-init":"","data-te-ripple-color":"light",class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5"},le=e("span",{class:"sr-only"},"table actions",-1),de={ref:"userMenu","data-te-dropdown-menu-ref":"",class:"min-w-[12rem] absolute z-[1000] start-0 text-gray-500 m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-start text-base shadow-lg [&[data-te-dropdown-show]]:block",tabindex:"-1",role:"menu","aria-orientation":"vertical","aria-label":"User menu","aria-labelledby":"dropdownPaginate"},ce={class:""},pe=["onClick"],ge=e("hr",{class:"border-gray-200"},null,-1),he={class:"relative"},ue=e("label",{for:"table-search",class:"sr-only"},"Search",-1),_e={class:"absolute inset-y-0 cursor-pointer text-gray-500 hover:text-gray-700 start-0 flex items-center px-3"},me=["placeholder"],xe={class:"w-full text-sm text-left text-gray-500"},fe={class:"sticky top-0 text-xs text-gray-700 uppercase bg-gray-50"},ye={class:"text-sm text-center"},be={class:"flex items-center"},ve=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),we={class:"flex items-center justify-center"},ke={class:"px-2"},Ce={class:"flex items-center justify-center"},Se={class:"px-2"},De={class:"flex items-center justify-center"},Ae={class:"px-2"},Ie={class:"flex items-center justify-center"},je={class:"px-2"},Ee={class:"flex items-center justify-center"},Pe={class:"px-2"},Te={class:"flex items-center justify-center"},Le={class:"px-2"},Me={class:"flex items-center justify-center"},Ue={class:"px-2"},Ve={class:"flex items-center justify-center"},Be={class:"px-2"},qe={scope:"col",class:"px-2 py-3"},ze={class:"text-xs"},Ge={class:"animate-pulse bg-white text-center border-b hover:bg-gray-50"},Ne=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})])],-1),Xe=e("td",{class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},[e("div",{class:"w-10 h-10 rounded-full"}),e("div",{class:"px-3"},[e("div",{class:"text-base bg-gray-200 px-5 py-2 rounded-lg"}),e("div",{class:"font-normal text-gray-500"})])],-1),Fe=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),He=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),Ke=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),Je=e("td",{class:"px-2 py-4"},[e("div",{class:"justify-center bg-gray-200 px-5 py-3 rounded-lg items-center text-center rounded-md"})],-1),Ze=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),Oe=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-4 rounded-lg rounded-md",role:"group"})],-1),Qe=[Ne,Xe,Fe,He,Ke,Je,Ze,Oe],Re=["onClick"],We={class:"flex items-center"},Ye=["onUpdate:modelValue"],$e={class:"px-2 py-4"},et={class:"flex items-center px-2 py-4 text-gray-900 whitespace-nowrap"},tt={class:"text-sm font-semibold"},st={class:"font-normal text-gray-500"},at={class:"px-2 py-4"},ot={class:"px-2 py-4"},it={class:"px-2 py-4"},rt={class:"px-2 py-4"},nt={class:"px-2 py-4"},lt={class:"px-2 py-4","data-te-dropdown-ref":""},dt=["id"],ct=["aria-labelledby"],pt=["onClick"],gt={class:"flex items-center text-danger px-6 py-2 justify-between"},ht=e("span",{class:"bg-danger mx-1 animate-pulse px-1 py-1 rounded"},null,-1),ut=e("hr",{class:"border-gray-200"},null,-1),_t={key:1,role:"menuitem",class:"cursor-pointer text-sm text-gray-500 transition-colors hover:bg-gray-100"},mt={class:"flex items-center px-6 py-2 justify-between"},xt={key:0},ft={key:1},yt=e("hr",{class:"border-gray-200"},null,-1),bt=["onClick"],vt={class:"flex items-center px-6 py-2 justify-between"},wt=e("hr",{class:"border-gray-200"},null,-1),kt={class:"px-2 py-4"},Ct={class:"inline-flex rounded-md shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]",role:"group"};function St(t,s,n,p,o,r){const A=h("Bars2Icon"),m=h("Link"),k=h("ChevronDownIcon"),I=h("Pagination"),j=h("MagnifyingGlassIcon"),E=h("XMarkIcon"),g=h("ArrowsUpDownIcon"),P=h("Panel");return d(),C(P,null,{header:_(()=>[e("title",null,i(t.__("panel")),1)]),content:_(()=>[e("div",Q,[e("div",R,[l(A,{class:"h-7 w-7 mx-3"}),e("h5",W,i(t.__("shipping_methods_list")),1)]),e("div",null,[l(m,{href:t.route("admin.panel.shipping-method.create"),class:"inline-flex items-center justify-center px-4 py-2 bg-green-500 border border-transparent rounded-md font-semibold transition-all duration-500 text-white hover:bg-green-600 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:_(()=>[y(i(t.__("new_shipping_method")),1)]),_:1},8,["href"])])]),e("div",Y,[e("div",$,[e("div",ee,[e("div",null,[e("div",te,[e("button",se,[ae,e("span",null,i(t.__("bulk_actions")),1),l(k,{class:"h-4 w-4 mx-1"})]),e("div",oe,null,512)])]),e("div",ie,[e("div",re,[e("button",ne,[le,e("span",null,i(o.params.paginate),1),l(k,{class:"h-4 w-4 mx-1"})]),e("div",de,[(d(!0),c(v,null,b(t.$page.props.pageItems,a=>(d(),c("div",ce,[e("div",{onClick:x=>{o.params.paginate=a,r.getData()},role:"menuitem",class:"cursor-pointer select-none block p-2 px-6 text-sm transition-colors hover:bg-gray-100"},i(a),9,pe),ge]))),256))],512)]),l(I,{onPaginationChanged:r.paginationChanged,pagination:o.pagination},null,8,["onPaginationChanged","pagination"])]),e("div",he,[ue,e("div",_e,[l(j,{onClick:s[0]||(s[0]=a=>r.getData()),class:"w-4 h-4"})]),e("div",{class:"absolute inset-y-0 end-0 text-gray-500 flex items-center px-3 cursor-pointer hover:text-gray-700",onClick:s[1]||(s[1]=a=>{o.params.search=null,r.getData()})},[l(E,{class:"w-4 h-4"})]),w(e("input",{type:"text",id:"table-search-users","onUpdate:modelValue":s[2]||(s[2]=a=>o.params.search=a),onKeydown:s[3]||(s[3]=B(a=>r.getData(),["enter"])),class:"block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500",placeholder:t.__("search")},null,40,me),[[V,o.params.search]])])]),e("table",xe,[e("thead",fe,[e("tr",ye,[e("th",{scope:"col",class:"p-4",onClick:s[5]||(s[5]=(...a)=>r.toggleAll&&r.toggleAll(...a))},[e("div",be,[w(e("input",{id:"checkbox-all-search",type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=a=>o.toggleSelect=a),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[S,o.toggleSelect]]),ve])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[6]||(s[6]=a=>{o.params.order_by="id",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",we,[e("span",ke,i(t.__("id")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[7]||(s[7]=a=>{o.params.order_by="name",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Ce,[e("span",Se,i(t.__("title")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[8]||(s[8]=a=>{o.params.order_by="agency_id",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",De,[e("span",Ae,i(t.__("agency")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[9]||(s[9]=a=>{o.params.order_by="repo_id",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Ie,[e("span",je,i(t.__("repository")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[10]||(s[10]=a=>{o.params.order_by="base_price",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Ee,[e("span",Pe,i(t.__("base_price")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[11]||(s[11]=a=>{o.params.order_by="per_weight_price",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Te,[e("span",Le,i(t.__("weight_price")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[12]||(s[12]=a=>{o.params.order_by="min_order_weight",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Me,[e("span",Ue,i(t.__("min_weight")),1),l(g,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:s[13]||(s[13]=a=>{o.params.order_by="status",o.params.dir=o.params.dir=="ASC"?"DESC":"ASC",o.params.page=1,r.getData()})},[e("div",Ve,[e("span",Be,i(t.__("status")),1),l(g,{class:"w-4 h-4"})])]),e("th",qe,i(t.__("actions")),1)])]),e("tbody",ze,[o.loading?(d(),c(v,{key:0},b(3,a=>e("tr",Ge,Qe)),64)):u("",!0),(d(!0),c(v,null,b(o.data,(a,x)=>(d(),c("tr",{class:D(["text-center border-b hover:bg-gray-50",{"bg-gray-50":x%2==1}])},[e("td",{class:"w-4 p-4",onClick:f=>a.selected=!a.selected},[e("div",We,[w(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":f=>a.selected=f,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,Ye),[[S,a.selected]])])],8,Re),e("td",$e,i(a.id),1),e("td",et,[l(m,{class:"px-2 hover:text-gray-500",href:t.route("admin.panel.shipping-method.edit",a.id)},{default:_(()=>[e("div",tt,i(t.cropText(a.name,30)),1),e("div",st,i(),1)]),_:2},1032,["href"])]),e("td",at,[a.agency?(d(),C(m,{key:0,class:"hover:text-primary-500",href:t.route("admin.panel.agency.edit",a.agency_id)},{default:_(()=>[y(i(a.agency.name),1)]),_:2},1032,["href"])):u("",!0)]),e("td",ot,i(a.repo_id),1),e("td",it,i(t.asPrice(a.base_price)),1),e("td",rt,i(t.asPrice(a.per_weight_price)),1),e("td",nt,i(t.asPrice(a.min_order_weight)),1),e("td",lt,[e("button",{id:`dropdownStatusSetting${a.id}`,"data-te-dropdown-toggle-ref":"","aria-expanded":"false","data-te-ripple-init":"","data-te-ripple-color":"light",class:D(["min-w-[5rem] px-1 cursor-pointer items-center text-center rounded-md py-[.2rem]",`bg-${t.getStatus("shipping-method",a.status).color}-100 hover:bg-${t.getStatus("shipping-method",a.status).color}-200 text-${t.getStatus("shipping-method",a.status).color}-500`])},i(t.getStatus("shipping-method",a.status).name),11,dt),e("ul",{ref_for:!0,ref:`statusMenu${a.id}`,"data-te-dropdown-menu-ref":"",class:"absolute z-[1000] m-0 hidden list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-center text-base shadow-lg [&[data-te-dropdown-show]]:block",tabindex:"-1",role:"menu","aria-orientation":"vertical","aria-label":"User menu","aria-labelledby":`dropdownStatusSetting${a.id}`},[a.status=="active"?(d(),c("li",{key:0,role:"menuitem",onClick:f=>r.edit({idx:x,id:a.id,cmnd:"inactive"}),class:"cursor-pointer text-sm transition-colors hover:bg-gray-100"},[e("div",gt,[ht,y(" "+i(t.__("inactive")),1)]),ut],8,pt)):u("",!0),a.status=="review"||a.status=="block"?(d(),c("li",_t,[e("div",mt,[a.status=="review"?(d(),c("span",xt,i(t.__("active_after_review")),1)):u("",!0),a.status=="block"?(d(),c("span",ft,i(t.__("not_available")),1)):u("",!0)]),yt])):u("",!0),a.status=="inactive"?(d(),c("li",{key:2,role:"menuitem",onClick:f=>r.edit({idx:x,id:a.id,cmnd:"activate"}),class:"cursor-pointer text-sm text-primary-500 transition-colors hover:bg-gray-100"},[e("div",vt,i(t.__("activate")),1),wt],8,bt)):u("",!0)],8,ct)]),e("td",kt,[e("div",Ct,[l(m,{type:"button",href:t.route("admin.panel.shipping-method.edit",a.id),class:"inline-block rounded bg-orange-500 text-white px-6 py-2 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-orange-400 focus:outline-none focus:ring-0","data-te-ripple-init":"","data-te-ripple-color":"light"},{default:_(()=>[y(i(t.__("edit")),1)]),_:2},1032,["href"])])])],2))),256))])])])])]),_:1})}const Ot=F(O,[["render",St]]);export{Ot as default};
