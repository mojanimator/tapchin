import"./Scaffold-D_ifbLkl.js";import{P as C,r as S}from"./Panel-rs2tkraC.js";import{T as B,Z as E,j as F,i as l,o as n,c as u,w as p,a as r,t as i,b as a,e as m,n as c,F as T,h as V,f as d,l as U,p as L}from"./app-DeJr7fNP.js";import{_ as j}from"./Checkbox-BWgqGgzP.js";import"./GuestLayout-B84nh8OP.js";import{_ as q,a as N}from"./InputLabel-C2gVT93H.js";import{_ as R}from"./PrimaryButton-Fk5jf8Nh.js";import{_ as z}from"./TextInput-BUWn7uYR.js";import{R as A}from"./RadioGroup-F_Tqn1wR.js";import{L as D}from"./LoadingIcon-8dx7WYGr.js";import{P as H}from"./Popover-BaS0lwjX.js";import{T as M}from"./Tooltip-CSg56dN2.js";import{_ as O}from"./TagInput-3zOTNi0B.js";import{I as G}from"./ImageUploader-v1nOBbO9.js";import{S as Q}from"./Selector-NdNaM2dQ.js";import{P as X}from"./ProvinceCounty-Bztk6mkC.js";import{P as Z}from"./PhoneFields-Dp_fguC6.js";import{S as J}from"./SocialFields-hQVy6EEa.js";import{E as K,r as W}from"./EmailFields-CE1aZlWP.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as $}from"./ShoppingBagIcon-zIu7FSuq.js";import{r as ee}from"./Footer-BYUJXMx0.js";import{r as re}from"./Alert-CDDSmLjy.js";import{r as oe}from"./EyeIcon-DI71KuzS.js";import{r as se}from"./FolderPlusIcon-oBdmLyEF.js";import{r as te}from"./Bars2Icon-DNQAv7Yb.js";import{r as ie}from"./ChatBubbleBottomCenterTextIcon-CovOeJqa.js";import{r as le}from"./QuestionMarkCircleIcon-jeUFMgsk.js";import{r as ae}from"./Squares2X2Icon-Dviu76Pe.js";import{r as ne}from"./CreditCardIcon-B7pkE30T.js";import"./ApplicationLogo-CV6pwTdm.js";import"./CartItemButton-BUsVs_zz.js";import"./ChevronUpIcon-DGI4GkYP.js";import"./PlusIcon-NsBgz0vi.js";import"./MinusIcon-B-7x8Y4K.js";import"./WrenchScrewdriverIcon-DQFoZ8JW.js";import"./XMarkIcon-CEnCPALs.js";import"./PhoneIcon-CdiwYJQQ.js";import"./LinkIcon-ClPrNMD5.js";const me={data(){return{data:this.data||{},form:B({id:null,fullname:null,phone:null,phone_verify:null,email:null,card:null}),img:null,profile:null}},components:{EmailFields:K,ImageUploader:G,LoadingIcon:D,Head:E,Link:F,HomeIcon:$,ChevronDownIcon:ee,Panel:C,InputLabel:q,TextInput:z,InputError:N,PrimaryButton:R,RadioGroup:A,UserIcon:re,EyeIcon:oe,Checkbox:j,Popover:H,Tooltip:M,FolderPlusIcon:se,Bars2Icon:te,ChatBubbleBottomCenterTextIcon:ie,TagInput:O,QuestionMarkCircleIcon:le,Selector:Q,Squares2X2Icon:ae,ProvinceCounty:X,PhoneFields:Z,SocialFields:J,PencilSquareIcon:S,PaintBrushIcon:W,CreditCardIcon:ne},created(){this.data=this.$page.props.auth.user},mounted(){this.form.fullname=this.data.fullname,this.form.phone=this.data.phone,this.form.email=this.data.email,this.form.card=this.data.card},methods:{submit(){this.form.clearErrors(),this.form.patch(route("profile.update"),{preserveScroll:!1,onSuccess:o=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message),this.$page.props.extra&&this.$page.props.extra.wallet_active!=null&&(this.user.wallet_active=this.$page.props.extra.wallet_active)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:o=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)}})}}},pe={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},de={class:"text-2xl font-semibold"},ce={class:"px-2 md:px-4"},fe={key:0,class:"flex flex-col mt-4"},_e={class:"flex text-sm"},ue={class:"text-gray-500"},he={class:"text-primary-700 mx-2"},ge={class:"flex text-sm"},ve={class:"text-gray-500"},ye={class:"flex text-sm"},xe={class:"text-gray-500"},be={class:"ms-1"},Ie={key:0,class:"bg-primary-100 rounded px-2 text-sm"},we={key:1,class:"lg:grid lg:grid-cols-3 mx-auto md:max-w-5xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},Pe={class:"lg:flex-col flex flex-wrap self-center md:m-2 lg:mx-2 md:items-center lg:items-stretch rounded-lg"},ke={class:"flex-col m-2 items-center rounded-lg max-w-[8rem] w-full mx-auto lg:mx-2"},Ce={class:"my-2"},Se={class:"flex flex-col mx-2 col-span-2 w-full lg:border-s px-2"},Be={class:"my-2"},Ee={class:"p-3"},Fe={class:"my-2"},Te={class:"my-2"},Ve={class:"my-2"},Ue={class:"p-3"},Le={class:"my-4 text-gray-700"},je={class:"text-sm my-1"},qe=r("div",{class:"py-4"},null,-1),Ne={key:0,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},Re={class:"animate-bounce"},ze={class:"mt-4"},Ae={class:"text-lg"};function De(o,t,He,Me,e,f){const h=l("PencilSquareIcon"),g=l("ImageUploader"),v=l("InputError"),y=l("Bars2Icon"),_=l("TextInput"),x=l("PhoneFields"),b=l("EmailFields"),I=l("CreditCardIcon"),w=l("LoadingIcon"),P=l("PrimaryButton"),k=l("Panel");return n(),u(k,null,{header:p(()=>[r("title",null,i(o.__("edit_profile")),1)]),content:p(()=>[r("div",pe,[a(h,{class:"h-7 w-7 mx-3"}),r("h1",de,i(o.__("edit_profile")),1)]),r("div",ce,[e.data&&e.data.id?(n(),m("div",fe,[r("div",_e,[r("div",ue,i(o.__("register_date"))+":",1),r("div",he,i(o.toShamsi(e.data.created_at)),1)]),r("div",ge,[r("div",ve,i(o.__("status"))+":",1),r("div",{class:c(["mx-2",`text-${e.data.is_block?"danger":e.data.is_active?"success":"gray"}-500`])},i(e.data.is_block?o.__("blocked"):e.data.is_active?o.__("active"):o.__("inactive")),3)]),r("div",ye,[r("div",xe,i(o.__("accesses"))+":",1),(n(!0),m(T,null,V(o.$page.props.accesses,(s,Oe)=>(n(),m("div",be,[e.data.access&&e.data.access.split(",").indexOf(s.role)>-1?(n(),m("div",Ie,i(o.__(s.name)),1)):d("",!0)]))),256))])])):d("",!0),e.data&&e.data.id?(n(),m("div",we,[r("div",Pe,[r("div",ke,[r("div",Ce,[a(g,{replace:!0,preload:o.route("storage.users")+`/${e.data.id}.jpg`,mode:"edit","for-id":e.data.id,link:o.route("profile.update"),ref:"imageCropper",label:o.__("image_cover_jpg"),cropRatio:"1",id:"img",height:"10",class:"grow"},null,8,["preload","for-id","link","label"]),a(v,{class:"mt-1",message:e.form.errors.img},null,8,["message"])])])]),r("div",Se,[r("form",{onSubmit:t[6]||(t[6]=U((...s)=>f.submit&&f.submit(...s),["prevent"]))},[r("div",Be,[a(_,{id:"fullname",type:"text",placeholder:o.__("fullname"),classes:"  ",modelValue:e.form.fullname,"onUpdate:modelValue":t[0]||(t[0]=s=>e.form.fullname=s),autocomplete:"fullname",error:e.form.errors.fullname},{prepend:p(()=>[r("div",Ee,[a(y,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),r("div",Fe,[a(x,{phone:e.form.phone,"onUpdate:phone":t[1]||(t[1]=s=>e.form.phone=s),"phone-verify":e.form.phone_verify,"onUpdate:phoneVerify":t[2]||(t[2]=s=>e.form.phone_verify=s),"phone-error":e.form.errors.phone,for:"users",verified:e.data.phone_verified,"phone-verify-error":e.form.errors.phone_verify},null,8,["phone","phone-verify","phone-error","verified","phone-verify-error"])]),r("div",Te,[a(b,{email:e.form.email,"onUpdate:email":t[3]||(t[3]=s=>e.form.email=s),"email-error":e.form.errors.email,for:"users",verified:e.data.email_verified_at,"phone-verify-error":e.form.errors.email},null,8,["email","email-error","verified","phone-verify-error"])]),r("div",Ve,[a(_,{id:"card",type:"text",placeholder:o.__("card"),classes:"  ",modelValue:e.form.card,"onUpdate:modelValue":t[4]||(t[4]=s=>e.form.card=s),autocomplete:"card",verified:e.data.wallet_active,error:e.form.errors.card},{prepend:p(()=>[r("div",Ue,[a(I,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","verified","error"])]),r("div",Le,[r("p",je,i(o.__("ref_link")),1),r("div",{onClick:t[5]||(t[5]=s=>o.copyToClipboard(o.route("/")+`?ref=${e.data.ref_id}`)),class:"text-left cursor-pointer block w-full rounded bg-primary-100 hover:bg-primary-200 text-primary p-2"},i(o.route("/")+`?ref=${e.data.ref_id}`),1)]),qe,e.form.progress?(n(),m("div",Ne,[r("div",{class:c(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":e.form.progress.percentage<100}]),style:L(`width: ${e.form.progress.percentage}%`)},[r("span",Re,i(e.form.progress.percentage),1)],6)])):d("",!0),r("div",ze,[a(P,{class:c(["w-full",{"opacity-25":e.form.processing}]),disabled:e.form.processing},{default:p(()=>[e.form.processing?(n(),u(w,{key:0,class:"w-4 h-4 mx-3"})):d("",!0),r("span",Ae,i(o.__("register_info")),1)]),_:1},8,["class","disabled"])])],32)])])):d("",!0)])]),_:1})}const Fr=Y(me,[["render",De]]);export{Fr as default};
