import{a as S,_ as U}from"./InputLabel-DWU22C58.js";import{S as B}from"./Selector-D_Wz8VRX.js";import{i as u,o as l,e as c,b as n,a as e,t as _,F as g,h as f,w as k,n as b,k as w,A as V}from"./app-COCv_6FM.js";import{_ as P}from"./PrimaryButton-zI18mNha.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as D}from"./ClockIcon-Ca9_Bi8-.js";import{r as j}from"./TrashIcon-CtMFSBd1.js";import{r as E}from"./PlusIcon-RnmXorVm.js";const L={name:"Timestamp",components:{InputError:S,PrimaryButton:P,InputLabel:U,Selector:B,ClockIcon:D,TrashIcon:j,PlusIcon:E},emits:["update:modelValue","change"],props:["mode","label","modelValue","id","errors"],data(){return{data:[]}},mounted(){this.data=this.modelValue||this.$page.props.default_timestamps,this.$emit("update:modelValue",this.data)},methods:{changed(){this.$emit("update:modelValue",this.data)},padDigits(o,i){return Array(Math.max(i-String(o).length+1,0)).join(0)+o}}},A={key:0,class:"border rounded p-2"},F={class:"w-full overflow-x-auto md:rounded-lg"},M={ref:"tableRef ",class:"table-auto text-sm text-gray-500"},N={class:"sticky top-0 shadow-md text-xs text-gray-700 bg-gray-50"},z={class:"text-sm text-center"},R={scope:"col",class:"px-4 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[99%]"},q={class:"items-center justify-center"},G={class:"px-2"},H={scope:"col",class:"py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[99%]"},J={class:"items-center justify-center"},K={class:""},O={scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[99%]"},Q={class:"items-center justify-center"},W={class:"px-2"},X={class:"overflow-y-scroll text-xs"},Y={class:"text-xs items-center px-1 text-gray-900"},Z={class:"text-xs items-center px-1 text-gray-900"},ee={class:"p-4"},te={class:"items-center"},oe=["id","onUpdate:modelValue"],se=["for"],re={class:"px-2 py-4"},ae={class:"inline-flex rounded-md shadow-sm transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]",role:"group"},ne={class:"flex items-center gap-1"},le={class:"w-[4rem]"},ce=["onClick"],de={class:"flex items-center mb-4"},ie=["onClick","id","onUpdate:modelValue","value"];function ue(o,i,a,_e,m,d){const v=u("InputLabel"),y=u("Selector"),C=u("TrashIcon"),x=u("PrimaryButton"),I=u("PlusIcon"),$=u("InputError");return a.mode!="view"?(l(),c("div",A,[n(v,{for:a.id,value:a.label},null,8,["for","value"]),e("div",F,[e("table",M,[e("thead",N,[e("tr",z,[e("th",R,[e("div",q,[e("span",G,_(o.__("from_hour")),1)])]),e("th",H,[e("div",J,[e("span",K,_(o.__("to_hour")),1)])]),e("th",O,[e("div",Q,[e("span",W,_(o.__("active")),1)])])])]),e("tbody",X,[(l(!0),c(g,null,f(m.data,(r,s)=>(l(),c("tr",{class:b(["text-center border-b hover:bg-gray-50",s%2==1?"bg-gray-50":"bg-white"])},[e("td",Y,[n(y,{onChange:d.changed,ref_for:!0,ref:"fromSelector",modelValue:r.from,"onUpdate:modelValue":t=>r.from=t,data:o.$page.props.hours,error:a.errors[`timestamps.${s}.from`],label:o.__(""),classes:"w-full",id:`from${s}`},null,8,["onChange","modelValue","onUpdate:modelValue","data","error","label","id"])]),e("td",Z,[n(y,{onChange:d.changed,ref_for:!0,ref:"toSelector",modelValue:r.to,"onUpdate:modelValue":t=>r.to=t,data:o.$page.props.hours,error:a.errors[`timestamps.${s}.to`],label:o.__(""),classes:"w-full",id:`to${s}`},null,8,["onChange","modelValue","onUpdate:modelValue","data","error","label","id"])]),e("td",ee,[e("div",te,[w(e("input",{onChange:i[0]||(i[0]=(...t)=>d.changed&&d.changed(...t)),id:`active${s}`,type:"checkbox","onUpdate:modelValue":t=>r.active=t,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,40,oe),[[V,r.active]]),e("label",{for:`active${s}`,class:"sr-only"},"checkbox",8,se)])]),e("td",re,[e("div",ae,[n(x,{type:"button",onClick:t=>{m.data.splice(s,1),d.changed()},class:"bg-red-500 hover:bg-red-400 text-sm ms-auto"},{default:k(()=>[n(C,{class:"w-4 h-4"})]),_:2},1032,["onClick"])])])],2))),256))])],512),n(x,{type:"button",onClick:i[1]||(i[1]=r=>m.data.push({})),class:"bg-green-500 hover:bg-green-400 text-sm my-2"},{default:k(()=>[n(I,{class:"w-4 h-4 mx-4"})]),_:1})])])):(l(),c("div",{key:1,class:b(["border p-2 rounded overflow-x-scroll",`${a.errors?"bg-red-50":""}`])},[n(v,{for:a.id,value:a.label},null,8,["for","value"]),(l(!0),c(g,null,f(a.modelValue,(r,s)=>(l(),c("div",ne,[e("div",le,_(r[0].day),1),(l(!0),c(g,null,f(r,(t,h)=>(l(),c("div",{class:b(["flex flex-col w-[7rem] p-2 m-[.2rem] border rounded",(t.active?"cursor-pointer ":"opacity-50 cursor-default ")+(t.selected?" shadow-md ":"  ")]),onClick:p=>o.$emit("change",s*r.length+h)},[e("div",null,_(`${d.padDigits(t.from,2)}:00 ${o.__("to")} ${d.padDigits(t.to,2)}:00`),1),e("div",de,[w(e("input",{onClick:p=>o.$emit("change",(h+1)*(s+1)),id:`check${s}${h}`,type:"checkbox","onUpdate:modelValue":p=>t.selected=p,value:t.selected,class:"w-4 h-4 mx-auto text-blue-600 bg-gray-100 border-gray-300 rounded-full focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,ie),[[V,t.selected]])])],10,ce))),256))]))),256)),n($,{message:a.errors},null,8,["message"])],2))}const xe=T(L,[["render",ue]]);export{xe as T};
