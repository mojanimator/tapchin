import"./Scaffold-DWvcdxbt.js";import{P}from"./Panel-B14SxVgH.js";import{T as S,Z as T,j as B,i as n,o as l,c as g,w as m,a as e,t as i,b as a,l as h,e as d,n as _,f as c,p as $}from"./app-COCv_6FM.js";import{_ as U}from"./Checkbox-CBncJiFN.js";import"./GuestLayout-BDT4xVuL.js";import{_ as V,a as j}from"./InputLabel-DWU22C58.js";import{_ as E}from"./PrimaryButton-zI18mNha.js";import{_ as L}from"./TextInput-K5DGNw4r.js";import{L as D}from"./LoadingIcon-PyLCRR-O.js";import{P as F}from"./Popover-BnSFaYHK.js";import{T as M}from"./Tooltip-D0OChXnj.js";import{_ as X}from"./TagInput-BIsym76x.js";import{I as N}from"./ImageUploader-s6j9d9TR.js";import{S as z}from"./Selector-D_Wz8VRX.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{U as H}from"./UserSelector-DX52qDNU.js";import"./geosearch.module-Dvy0ZXuX.js";import{a as O}from"./ShoppingBagIcon-DdettYi9.js";import{r as q}from"./Footer-B5OFFhHa.js";import{r as Q}from"./Alert-eYSKKEf0.js";import{r as R}from"./EyeIcon-DDKOnXSf.js";import{r as Z}from"./FolderPlusIcon-CThkctZA.js";import{r as G}from"./Bars2Icon-CXJclUCF.js";import{r as J}from"./ChatBubbleBottomCenterTextIcon-CDqsO2LX.js";import{r as K}from"./QuestionMarkCircleIcon-56s_3IWs.js";import{r as W}from"./Squares2X2Icon-B-hFow5j.js";import{r as Y}from"./SignalIcon-sgS5f9kg.js";import{r as ee}from"./PencilIcon-CQwlpeJo.js";import{r as re}from"./CartItemButton-ClgMcctk.js";import{r as oe}from"./PhoneIcon-CmyMHnNp.js";import{r as se}from"./CreditCardIcon-DN58q0LZ.js";import{r as te}from"./IdentificationIcon-DRmixeUG.js";import"./ApplicationLogo-DT4XYSyB.js";import"./WrenchScrewdriverIcon-D0loC_t3.js";import"./PlusIcon-RnmXorVm.js";import"./XMarkIcon-CErzUapP.js";import"./Pagination-B7Lk-YHC.js";import"./ChevronRightIcon-B7nF-CoK.js";import"./MagnifyingGlassIcon-BmWdTLzH.js";import"./ChevronUpIcon-BtLkJPMB.js";import"./MinusIcon-7FMvIveB.js";const ne={data(){return{form:S({agency_id:null,name:null,plate_number:null,uploading:!1}),img:null}},components:{UserSelector:H,ImageUploader:N,LoadingIcon:D,Head:T,Link:B,HomeIcon:O,ChevronDownIcon:q,Panel:P,InputLabel:V,TextInput:L,InputError:j,PrimaryButton:E,UserIcon:Q,EyeIcon:R,Checkbox:U,Popover:F,Tooltip:M,FolderPlusIcon:Z,Bars2Icon:G,ChatBubbleBottomCenterTextIcon:J,TagInput:X,QuestionMarkCircleIcon:K,Selector:z,Squares2X2Icon:W,SignalIcon:Y,PencilIcon:ee,XMarkIcon:re,PhoneIcon:oe,CreditCardIcon:se,IdentificationIcon:te},mounted(){},watch:{form(o,s){}},methods:{submit(){this.img=this.$refs.imageCropper.getCroppedData(),this.form.uploading=!1,this.form.clearErrors(),this.form.post(route("admin.panel.shipping.car.create"),{preserveScroll:!1,onSuccess:o=>{this.form.uploading||(this.form.uploading=!0,this.form.transform(s=>({...s,uploading:!0,img:this.img})).post(route("admin.panel.shipping.car.create"),{preserveScroll:!1,onSuccess:s=>{this.$page.props.flash.status&&this.showAlert(this.$page.props.flash.status,this.$page.props.flash.message)},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:s=>{}}))},onError:()=>{this.showToast("danger",Object.values(this.form.errors).join("<br/>"))},onFinish:o=>{}})}}},ae={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},me={class:"text-2xl font-semibold"},le={class:"px-2 md:px-4"},ie={class:"mx-auto md:max-w-2xl mt-6 px-2 md:px-4 py-4 bg-white shadow-md overflow-hidden rounded-lg"},ce={class:"flex flex-col mx-2 col-span-2 w-full px-2"},pe={class:"flex-col m-2 items-center rounded-lg max-w-xs w-full mx-auto"},de={class:"my-2"},_e={key:0,class:"my-2"},fe={class:"grow"},ue=["onClick"],ge={class:"my-2"},he={class:"p-3"},be={class:"my-2"},ye={class:"p-3"},Ie={key:1,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},xe={class:"animate-bounce"},ve={class:"mt-4"},we={class:"text-lg"};function ke(o,s,Ce,Pe,r,p){const b=n("FolderPlusIcon"),y=n("ImageUploader"),I=n("InputError"),x=n("XMarkIcon"),v=n("UserSelector"),f=n("Bars2Icon"),u=n("TextInput"),w=n("LoadingIcon"),k=n("PrimaryButton"),C=n("Panel");return l(),g(C,null,{header:m(()=>[e("title",null,i(o.__("new_car")),1)]),content:m(()=>[e("div",ae,[a(b,{class:"h-7 w-7 mx-3"}),e("h1",me,i(o.__("new_car")),1)]),e("div",le,[e("div",ie,[e("div",ce,[e("div",pe,[e("div",de,[a(y,{ref:"imageCropper",label:o.__("car_image_jpg"),cropRatio:1.25,id:"img",height:"10",class:"grow","crop-ratio":1},null,8,["label"]),a(I,{class:"mt-1",message:r.form.errors.img},null,8,["message"])])]),e("form",{onSubmit:s[3]||(s[3]=h((...t)=>p.submit&&p.submit(...t),["prevent"]))},[o.$page.props.agency&&o.$page.props.agency.level<3?(l(),d("div",_e,[a(v,{colsData:["name","phone","level"],labelsData:["name","phone","type"],callback:{level:o.getAgency},error:r.form.errors.agency_id,link:o.route("admin.panel.agency.search"),label:o.__("agency"),id:"agency",selected:r.form.agency_id,"onUpdate:selected":s[0]||(s[0]=t=>r.form.agency_id=t),preload:null},{selector:m(t=>[e("div",{class:_([(t.selectedText,"py-2"),"px-4 border border-gray-300 rounded hover:bg-gray-100 cursor-pointer flex items-center"])},[e("div",fe,i(t.selectedText??o.__("select")),1),t.selectedText?(l(),d("div",{key:0,class:"bg-danger rounded p-2 cursor-pointer text-white hover:bg-danger-400",onClick:h(Se=>t.clear(),["stop"])},[a(x,{class:"w-5 h-5"})],8,ue)):c("",!0)],2)]),_:1},8,["callback","error","link","label","selected"])])):c("",!0),e("div",ge,[a(u,{id:"name",type:"text",placeholder:o.__("name"),classes:"  ",modelValue:r.form.name,"onUpdate:modelValue":s[1]||(s[1]=t=>r.form.name=t),autocomplete:"name",error:r.form.errors.name},{prepend:m(()=>[e("div",he,[a(f,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),e("div",be,[a(u,{id:"plate_number",type:"text",placeholder:o.__("plate_number"),classes:"  ",modelValue:r.form.plate_number,"onUpdate:modelValue":s[2]||(s[2]=t=>r.form.plate_number=t),autocomplete:"plate_number",error:r.form.errors.plate_number},{prepend:m(()=>[e("div",ye,[a(f,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),r.form.progress?(l(),d("div",Ie,[e("div",{class:_(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":r.form.progress.percentage<100}]),style:$(`width: ${r.form.progress.percentage}%`)},[e("span",xe,i(r.form.progress.percentage),1)],6)])):c("",!0),e("div",ve,[a(k,{onClick:p.submit,type:"button",class:_(["w-full flex items-center justify-center",{"opacity-25":r.form.processing}]),disabled:r.form.processing},{default:m(()=>[r.form.processing?(l(),g(w,{key:0,class:"w-4 h-4 mx-3"})):c("",!0),e("span",we,i(o.__("register_info")),1)]),_:1},8,["onClick","class","disabled"])])],32)])])])]),_:1})}const ur=A(ne,[["render",ke]]);export{ur as default};
