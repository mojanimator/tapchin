import"./Scaffold-DWvcdxbt.js";import{P as j}from"./Panel-B14SxVgH.js";import{Z as B,j as L,D as U,i as d,o as c,c as C,w as u,a as e,t as i,b as l,e as g,h as _,F as x,k as f,G as z,J as F,A as I,f as b,n as y,l as G}from"./app-COCv_6FM.js";import{P as q,r as N}from"./Pagination-B7Lk-YHC.js";import{r as X,I as H}from"./Footer-B5OFFhHa.js";import{T as K}from"./Tooltip-D0OChXnj.js";import{L as J}from"./LoadingIcon-PyLCRR-O.js";import{_ as Z}from"./TextInput-K5DGNw4r.js";import{_ as O}from"./PrimaryButton-zI18mNha.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as R}from"./ShoppingBagIcon-DdettYi9.js";import{r as W}from"./Bars2Icon-CXJclUCF.js";import{r as Y}from"./MagnifyingGlassIcon-BmWdTLzH.js";import{r as $}from"./CartItemButton-ClgMcctk.js";import{r as ee}from"./FolderPlusIcon-CThkctZA.js";import{r as te}from"./PlusIcon-RnmXorVm.js";import"./Alert-eYSKKEf0.js";import"./ApplicationLogo-DT4XYSyB.js";import"./WrenchScrewdriverIcon-D0loC_t3.js";import"./QuestionMarkCircleIcon-56s_3IWs.js";import"./ChevronRightIcon-B7nF-CoK.js";import"./InputLabel-DWU22C58.js";import"./ChevronUpIcon-BtLkJPMB.js";import"./MinusIcon-7FMvIveB.js";const se={data(){return{params:{page:1,search:null,paginate:this.$page.props.pageItems[0],order_by:null,dir:"DESC",id:null,key:null,value:null,errors:{}},data:[],pagination:{},toggleSelect:!1,loading:!1,error:null,selected:null}},components:{TextInput:Z,Head:B,Link:L,HomeIcon:R,ChevronDownIcon:X,Panel:j,Bars2Icon:W,Image:H,MagnifyingGlassIcon:Y,XMarkIcon:$,Pagination:q,ArrowsUpDownIcon:N,Tooltip:K,LoadingIcon:J,FolderPlusIcon:ee,PlusIcon:te,PrimaryButton:O},mounted(){this.getData();const t=document.getElementById("settingModal");this.modal=new U(t)},methods:{getData(){this.loading=!0,this.data=[],window.axios.get(route("panel.admin.setting.search"),{params:this.params},{}).then(t=>{this.data=t.data.data,this.data.forEach(o=>{o.selected=!1}),delete t.data.data,this.pagination=t.data}).catch(t=>{t.response?(console.log(t.response.data),console.log(t.response.status),console.log(t.response.headers),this.error=t.response.data):t.request?(console.log(t.request),this.error=t.request):(console.log("Error",t.message),this.error=t.message),console.log(t.config),this.showToast("danger",t)}).finally(()=>{this.loading=!1})},toggleAll(){this.toggleSelect=!this.toggleSelect,this.data.forEach(t=>{t.selected=this.toggleSelect})},addEditData(){this.loading=!0,window.axios.patch(route("panel.admin.setting.update"),this.params,{}).then(t=>{t.data&&t.data.message&&(this.modal.hide(),this.showToast("success",t.data.message),this.params.page=1,this.getData())}).catch(t=>{this.error=this.getErrors(t),t.response&&t.response.data,this.showToast("danger",this.error)}).finally(()=>{this.loading=!1})},removeData(t){this.loading=!0,window.axios.delete(route("panel.admin.setting.delete",t),{},{}).then(o=>{o.data&&o.data.message&&(this.showToast("success",o.data.message),this.params.page=1,this.getData())}).catch(o=>{this.error=this.getErrors(o),o.response&&o.response.data,this.showToast("danger",this.error)}).finally(()=>{this.loading=!1})},paginationChanged(t){this.params.page=t.page,this.getData()},bulkAction(t){if(this.data.filter(n=>n.selected).length==0){this.showToast("danger",this.__("nothing_selected"));return}this.isLoading(!0);const o={cmnd:t,data:this.data.reduce((n,p)=>(p.selected&&n.push(p.id),n),[])};window.axios.patch(route("article.update"),o,{onUploadProgress:function(n){},onDownloadProgress:function(n){}}).then(n=>{if(n.data&&n.data.message&&this.showToast("success",n.data.message),n.data&&n.data.results){const p=n.data.results;for(let s in this.data)for(let r in p)if(p[r].id==this.data[s].id){this.data[s].status=p[r].status;break}}}).catch(n=>{this.error=this.getErrors(n),this.showToast("danger",this.error)}).finally(()=>{this.isLoading(!1)})}}},oe={class:"flex items-center justify-between px-4 py-2 text-primary-500 border-b md:py-4"},ae={class:"flex"},ne={class:"text-2xl font-semibold"},re={class:"px-2 flex flex-col md:px-4"},ie={class:"flex-col bg-white overflow-x-auto shadow-lg rounded-lg"},le={class:"flex items-center justify-between py-4 p-4"},de={class:"relative mx-1","data-te-dropdown-ref":""},ce={id:"dropdownActionsSetting","data-te-dropdown-toggle-ref":"","aria-expanded":"false","data-te-ripple-init":"","data-te-ripple-color":"light",class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5"},pe=e("span",{class:"sr-only"},"table actions",-1),ge={ref:"actionsMenu","data-te-dropdown-menu-ref":"",class:"min-w-[12rem] absolute z-[1000] float-start m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-start text-base shadow-lg [&[data-te-dropdown-show]]:block",tabindex:"-1",role:"menu","aria-orientation":"vertical","aria-label":"Actions menu","aria-labelledby":"dropdownActionsSetting"},ue={class:"flex items-center"},he={class:"relative mx-1","data-te-dropdown-ref":""},me={id:"dropdownPaginate","data-te-dropdown-toggle-ref":"","aria-expanded":"false","data-te-ripple-init":"","data-te-ripple-color":"light",class:"inline-flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-3 py-1.5"},_e=e("span",{class:"sr-only"},"table actions",-1),xe={ref:"userMenu","data-te-dropdown-menu-ref":"",class:"min-w-[12rem] absolute z-[1000] start-0 text-gray-500 m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-start text-base shadow-lg [&[data-te-dropdown-show]]:block",tabindex:"-1",role:"menu","aria-orientation":"vertical","aria-label":"User menu","aria-labelledby":"dropdownPaginate"},fe={class:""},be=["onClick"],ye=e("hr",{class:"border-gray-200"},null,-1),we={class:"relative"},ve=e("label",{for:"table-search",class:"sr-only"},"Search",-1),ke={class:"absolute inset-y-0 cursor-pointer text-gray-500 hover:text-gray-700 start-0 flex items-center px-3"},Ce=["placeholder"],Ie={class:"w-full text-sm text-left text-gray-500"},De={class:"text-xs text-gray-700 uppercase bg-gray-50"},Pe={class:"text-sm text-center"},Me={class:"flex items-center"},Se=e("label",{for:"checkbox-all-search",class:"sr-only"},"checkbox",-1),Ee={class:"flex items-center justify-center"},Ae={class:"px-2"},Te={class:"flex items-center justify-center"},Ve={class:"px-2"},je={scope:"col",class:"px-2 py-3"},Be={class:""},Le={class:"animate-pulse bg-white text-center border-b hover:bg-gray-50"},Ue=e("td",{class:"w-4 p-4"},[e("div",{class:"flex items-center"},[e("input",{id:"checkbox-table-search-1",type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})])],-1),ze=e("td",{class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},[e("div",{class:"w-10 h-10 rounded-full"}),e("div",{class:"px-3"},[e("div",{class:"text-base bg-gray-200 px-5 py-2 rounded-lg"}),e("div",{class:"font-normal text-gray-500"})])],-1),Fe=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),Ge=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),qe=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),Ne=e("td",{class:"px-2 py-4"},[e("div",{class:"justify-center bg-gray-200 px-5 py-3 rounded-lg items-center text-center rounded-md"})],-1),Xe=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-2 rounded-lg"})],-1),He=e("td",{class:"px-2 py-4"},[e("div",{class:"bg-gray-200 px-5 py-4 rounded-lg rounded-md",role:"group"})],-1),Ke=[Ue,ze,Fe,Ge,qe,Ne,Xe,He],Je={class:"bg-white text-center border-b hover:bg-gray-50"},Ze=["onClick"],Oe={class:"flex items-center"},Qe=["onUpdate:modelValue"],Re={class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},We={class:"px-2 py-4"},Ye={class:"px-2 py-4"},$e={class:"inline-flex rounded-md shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-primary-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-primary-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-primary-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]",role:"group"},et=["onClick"],tt=["onClick"],st={"data-te-modal-init":"",class:"fixed left-0 top-0 backdrop-blur z-[1055] hidden h-full w-full overflow-y-auto overflow-x-hidden outline-none",id:"settingModal",tabindex:"-1","aria-labelledby":"settingModalLabel","aria-hidden":"true"},ot={"data-te-modal-dialog-ref":"",class:"pointer-events-none relative w-auto translate-y-[-50px] opacity-0 transition-all duration-300 ease-in-out min-[576px]:mx-auto min-[576px]:mt-7 px-2 sm:px-4 md:px8 min-[576px]:max-w-5xl"},at={class:"min-[576px]:shadow-[0_0.5rem_1rem_rgba(#000, 0.15)] pointer-events-auto relative flex w-full flex-col rounded-md border-none bg-white bg-clip-padding text-current shadow-lg outline-none"},nt={class:"flex flex-shrink-0 items-center justify-between rounded-t-md border-b-2 border-neutral-100 border-opacity-100 p-4"},rt=e("h5",{class:"text-xl font-medium leading-normal text-neutral-800",id:"settingModalLabel"},null,-1),it=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),lt=[it],dt={class:"relative flex-auto p-4","data-te-modal-body-ref":""},ct={class:"flex items-center justify-start px-4 py-2 text-primary-500 border-b md:py-4"},pt={class:"text-2xl font-semibold"},gt={class:"px-2 md:px-4"},ut={class:"mx-auto md:max-w-3xl mt-6 px-2 md:px-4 py-4 overflow-hidden rounded-lg"},ht={class:"flex flex-col mx-2 col-span-2 w-full px-2"},mt={class:"my-2"},_t={class:"p-3"},xt={class:"my-2"},ft={class:"p-3"},bt={key:0,class:"shadow w-full bg-grey-light m-2 bg-gray-200 rounded-full"},yt={class:"mt-4"},wt={class:"text-lg"};function vt(t,o,n,p,s,r){const m=d("Bars2Icon"),w=d("ChevronDownIcon"),D=d("Pagination"),P=d("MagnifyingGlassIcon"),M=d("XMarkIcon"),v=d("ArrowsUpDownIcon"),S=d("FolderPlusIcon"),k=d("TextInput"),E=d("LoadingIcon"),A=d("PrimaryButton"),T=d("Panel");return c(),C(T,null,{header:u(()=>[e("title",null,i(t.__("panel")),1)]),content:u(()=>[e("div",oe,[e("div",ae,[l(m,{class:"h-7 w-7 mx-3"}),e("h1",ne,i(t.__("settings")),1)]),e("div",null,[e("button",{onClick:o[0]||(o[0]=a=>{s.params.id=null,s.params.key=null,s.params.value=null,t.modal.show()}),"data-te-toggle":"modal","data-te-target":"#settingModal","data-te-ripple-init":"",class:"inline-flex items-center justify-center px-4 py-2 bg-green-500 border border-transparent rounded-md font-semibold transition-all duration-500 text-white hover:bg-green-600 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},i(t.__("new_setting")),1)])]),e("div",re,[e("div",ie,[e("div",le,[e("div",null,[e("div",de,[e("button",ce,[pe,e("span",null,i(t.__("bulk_actions")),1),l(w,{class:"h-4 w-4 mx-1"})]),e("div",ge,null,512)])]),e("div",ue,[e("div",he,[e("button",me,[_e,e("span",null,i(s.params.paginate),1),l(w,{class:"h-4 w-4 mx-1"})]),e("div",xe,[(c(!0),g(x,null,_(t.$page.props.pageItems,a=>(c(),g("div",fe,[e("div",{onClick:V=>{s.params.paginate=a,r.getData()},role:"menuitem",class:"cursor-pointer select-none block p-2 px-6 text-sm transition-colors hover:bg-gray-100"},i(a),9,be),ye]))),256))],512)]),l(D,{onPaginationChanged:r.paginationChanged,pagination:s.pagination},null,8,["onPaginationChanged","pagination"])]),e("div",we,[ve,e("div",ke,[l(P,{onClick:o[1]||(o[1]=a=>r.getData()),class:"w-4 h-4"})]),e("div",{class:"absolute inset-y-0 end-0 text-gray-500 flex items-center px-3 cursor-pointer hover:text-gray-700",onClick:o[2]||(o[2]=a=>{s.params.search=null,r.getData()})},[l(M,{class:"w-4 h-4"})]),f(e("input",{type:"text",id:"table-search-users","onUpdate:modelValue":o[3]||(o[3]=a=>s.params.search=a),onKeydown:o[4]||(o[4]=F(a=>r.getData(),["enter"])),class:"block p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500",placeholder:t.__("search")},null,40,Ce),[[z,s.params.search]])])]),e("table",Ie,[e("thead",De,[e("tr",Pe,[e("th",{scope:"col",class:"p-4",onClick:o[6]||(o[6]=(...a)=>r.toggleAll&&r.toggleAll(...a))},[e("div",Me,[f(e("input",{id:"checkbox-all-search",type:"checkbox","onUpdate:modelValue":o[5]||(o[5]=a=>s.toggleSelect=a),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[I,s.toggleSelect]]),Se])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:o[7]||(o[7]=a=>{s.params.order_by="title",s.params.dir=s.params.dir=="ASC"?"DESC":"ASC",s.params.page=1,r.getData()})},[e("div",Ee,[e("span",Ae,i(t.__("key")),1),l(v,{class:"w-4 h-4"})])]),e("th",{scope:"col",class:"px-2 py-3 cursor-pointer duration-300 hover:text-gray-500 hover:scale-[105%]",onClick:o[8]||(o[8]=a=>{s.params.order_by="view",s.params.dir=s.params.dir=="ASC"?"DESC":"ASC",s.params.page=1,r.getData()})},[e("div",Te,[e("span",Ve,i(t.__("value")),1),l(v,{class:"w-4 h-4"})])]),e("th",je,i(t.__("actions")),1)])]),e("tbody",Be,[s.loading?(c(),g(x,{key:0},_(3,a=>e("tr",Le,Ke)),64)):b("",!0),(c(!0),g(x,null,_(s.data,(a,V)=>(c(),g("tr",Je,[e("td",{class:"w-4 p-4",onClick:h=>a.selected=!a.selected},[e("div",Oe,[f(e("input",{id:"checkbox-table-search-1",type:"checkbox","onUpdate:modelValue":h=>a.selected=h,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,8,Qe),[[I,a.selected]])])],8,Ze),e("td",Re,i(a.key),1),e("td",We,i(a.value),1),e("td",Ye,[e("div",$e,[e("button",{onClick:h=>{s.params.id=a.id,s.params.key=a.key,s.params.value=a.value,t.modal.show()},"data-te-toggle":"modal","data-te-target":"#settingModal","data-te-ripple-init":"",class:"inline-flex items-center rounded-s justify-center px-4 py-2 bg-orange-500 border border-transparent transition-all duration-500 text-white hover:bg-orange-400 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},i(t.__("edit")),9,et),e("button",{onClick:h=>t.showDialog("danger",t.__("remove_item?"),t.__("remove"),r.removeData,a.id),type:"button",class:"inline-block rounded-e bg-red-500 text-white px-6 py-2 text-xs font-medium uppercase leading-normal text-white transition duration-150 ease-in-out hover:bg-red-400 focus:outline-none focus:ring-0","data-te-ripple-init":"","data-te-ripple-color":"light"},i(t.__("remove")),9,tt)])])]))),256))])])])]),e("div",st,[e("div",ot,[e("div",at,[e("div",nt,[rt,e("button",{class:y(["text-danger","box-content rounded-none border-none hover:no-underline hover:opacity-75 focus:opacity-100 focus:shadow-none focus:outline-none"]),type:"button","data-te-modal-dismiss":"","aria-label":"Close"},lt)]),e("div",dt,[e("div",ct,[l(S,{class:"h-7 w-7 mx-3"}),e("h1",pt,i(t.__("new_setting")),1)]),e("div",gt,[e("div",ut,[e("div",ht,[e("form",{onSubmit:o[11]||(o[11]=G((...a)=>r.addEditData&&r.addEditData(...a),["prevent"]))},[e("div",mt,[l(k,{id:"key",type:"text",placeholder:t.__("key"),classes:"  ",modelValue:s.params.key,"onUpdate:modelValue":o[9]||(o[9]=a=>s.params.key=a),autocomplete:"key",error:s.params.errors.key},{prepend:u(()=>[e("div",_t,[l(m,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),e("div",xt,[l(k,{id:"value",type:"text",placeholder:t.__("value"),classes:"  ",modelValue:s.params.value,"onUpdate:modelValue":o[10]||(o[10]=a=>s.params.value=a),autocomplete:"value",error:s.params.errors.value},{prepend:u(()=>[e("div",ft,[l(m,{class:"h-5 w-5"})])]),_:1},8,["placeholder","modelValue","error"])]),s.loading?(c(),g("div",bt,[e("div",{class:y(["bg-primary rounded text-xs leading-none py-[.1rem] text-center text-white duration-300",{" animate-pulse":s.loading}]),style:"width: 100%"},null,2)])):b("",!0),e("div",yt,[l(A,{class:y(["w-full",{"opacity-25":s.loading}]),disabled:s.loading},{default:u(()=>[s.loading?(c(),C(E,{key:0,class:"w-4 h-4 mx-3"})):b("",!0),e("span",wt,i(t.__("register_info")),1)]),_:1},8,["class","disabled"])])],32)])])])])])])])]),_:1})}const Zt=Q(se,[["render",vt]]);export{Zt as default};
